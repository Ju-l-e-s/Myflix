Output: E501 Line too long (123 > 120)
   --> infra/ai/app/main.py:133:121
    |
131 |         ]
132 |     else:
133 |         payload["seasons"] = [{"seasonNumber": s["seasonNumber"], "monitored": True} for s in item_data.get("seasons", [])]
    |                                                                                                                         ^^^
134 |
135 |     async with aiohttp.ClientSession() as session:
    |

E501 Line too long (176 > 120)
   --> infra/ai/app/main.py:145:121
    |
143 | â€¦
144 | â€¦
145 | â€¦ RÃ©ponds en JSON: {\"type\": \"movie\"|\"series\"|\"chat\", \"query\": \"nom sans saison\"}"},
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
146 | â€¦
147 | â€¦
    |

E501 Line too long (131 > 120)
   --> infra/ai/app/main.py:160:121
    |
158 | @restricted
159 | async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
160 |     await update.message.reply_text("Salut ! Je suis ton assistant mÃ©dia (Gatekeeper activÃ©). Envoie-moi un nom de film ou sÃ©rie.")
    |                                                                                                                         ^^^^^^^^^^^
161 |
162 | @restricted
    |

E501 Line too long (160 > 120)
   --> infra/ai/app/main.py:182:121
    |
180 | â€¦
181 | â€¦
182 | â€¦und['year']}){season_label}\n_{overview}_\n\nEst-ce bien ce que vous voulez ajouter ?"
    |                                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
183 | â€¦
184 | â€¦
    |

E501 Line too long (125 > 120)
   --> infra/ai/app/main.py:198:121
    |
197 |         if poster:
198 |             await update.message.reply_photo(photo=poster, caption=caption, parse_mode='Markdown', reply_markup=reply_markup)
    |                                                                                                                         ^^^^^
199 |         else:
200 |             await update.message.reply_text(text=caption, parse_mode='Markdown', reply_markup=reply_markup)
    |

E501 Line too long (139 > 120)
   --> infra/ai/app/main.py:230:120
    |
228 | â€¦
229 | â€¦season'] else ""
230 | â€¦'item']['title']}'{season_txt} a Ã©tÃ© ajoutÃ© et la recherche est lancÃ©e !")
    |                                                         ^^^^^^^^^^^^^^^^^^^
231 | â€¦
232 | â€¦ors de l'ajout ou mÃ©dia dÃ©jÃ  existant.")
    |

E501 Line too long (308 > 120)
  --> infra/ai/maintenance/handlers_admin.py:56:120
   |
54 | â€¦
55 | â€¦
56 | â€¦on("ğŸ‘¥ Utilisateurs", callback_data="adm:users"), types.InlineKeyboardButton("ğŸ§¹ Nettoyage SSD", callback_data="adm:clean"), types.InlineKeyboardButton("ğŸ”™ Fermer", callback_data="adm:close"))
   |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
57 | â€¦y_markup=markup)
58 | â€¦
   |

E501 Line too long (130 > 120)
  --> infra/ai/maintenance/handlers_admin.py:57:122
   |
55 | â€¦         markup = types.InlineKeyboardMarkup(row_width=1)
56 | â€¦         markup.add(types.InlineKeyboardButton("ğŸ“‚ Partage", callback_data="adm:share"), types.InlineKeyboardButton("ğŸ‘¥ Utilisateurs", â€¦
57 | â€¦         bot.edit_message_text("ğŸ› ï¸ **Menu Administrateur**", call.message.chat.id, call.message.message_id, reply_markup=markup)
   |                                                                                                                       ^^^^^^^^^^
58 | â€¦     elif cmd == "share":
59 | â€¦         markup = types.InlineKeyboardMarkup(row_width=1)
   |

E501 Line too long (256 > 120)
  --> infra/ai/maintenance/handlers_admin.py:60:120
   |
58 | â€¦
59 | â€¦
60 | â€¦neKeyboardButton("âŒ Contenu non possÃ©dÃ©", callback_data="adm:share_new"), types.InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:main"))
   |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
61 | â€¦markup=markup)
62 | â€¦
   |

E501 Line too long (130 > 120)
  --> infra/ai/maintenance/handlers_admin.py:61:120
   |
59 | â€¦         markup = types.InlineKeyboardMarkup(row_width=1)
60 | â€¦         markup.add(types.InlineKeyboardButton("âœ… Contenu possÃ©dÃ©", callback_data="adm:share_owned"), types.InlineKeyboardButton("âŒ  â€¦
61 | â€¦         bot.edit_message_text("ğŸ“‚ **Gestion du Partage**", call.message.chat.id, call.message.message_id, reply_markup=markup)
   |                                                                                                                       ^^^^^^^^^^
62 | â€¦     elif cmd == "users":
63 | â€¦         markup = types.InlineKeyboardMarkup(row_width=1)
   |

E501 Line too long (308 > 120)
  --> infra/ai/maintenance/handlers_admin.py:64:120
   |
62 | â€¦
63 | â€¦
64 | â€¦Button("â• Ajouter", callback_data="adm:users_add"), types.InlineKeyboardButton("âŒ RÃ©voquer", callback_data="adm:users_rev"), types.InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:main"))
   |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
65 | â€¦reply_markup=markup)
66 | â€¦
   |

E501 Line too long (136 > 120)
  --> infra/ai/maintenance/handlers_admin.py:65:120
   |
63 | â€¦
64 | â€¦callback_data="adm:users_list"), types.InlineKeyboardButton("â• Ajouter", callback_data="adm:users_add"), types.InlineKeyboardButton("â€¦
65 | â€¦s**", call.message.chat.id, call.message.message_id, reply_markup=markup)
   |                                                           ^^^^^^^^^^^^^^^^
66 | â€¦
67 | â€¦(f)["allowed"]
   |

E501 Line too long (223 > 120)
  --> infra/ai/maintenance/handlers_admin.py:69:121
   |
67 | â€¦
68 | â€¦
69 | â€¦.InlineKeyboardMarkup().add(types.InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:users")), parse_mode='Markdown')
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
70 | â€¦
71 | â€¦
   |

E501 Line too long (135 > 120)
  --> infra/ai/maintenance/handlers_admin.py:80:121
   |
78 | â€¦", callback_data=f"adm:users_del:{u}"))
79 | â€¦, callback_data="adm:users"))
80 | â€¦er :", call.message.chat.id, call.message.message_id, reply_markup=markup)
   |                                                             ^^^^^^^^^^^^^^^
81 | â€¦
82 | â€¦
   |

E501 Line too long (166 > 120)
  --> infra/ai/maintenance/handlers_admin.py:88:121
   |
86 | â€¦
87 | â€¦
88 | â€¦all.from_user, message=call.message, data="adm:users", chat_instance=call.chat_instance))
   |                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
89 | â€¦
90 | â€¦
   |

E501 Line too long (248 > 120)
  --> infra/ai/maintenance/handlers_admin.py:91:120
   |
89 | â€¦
90 | â€¦
91 | â€¦yboardButton("ğŸ“º SÃ©ries", callback_data="adm:list_owned:series"), types.InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:share"))
   |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
92 | â€¦)
93 | â€¦
   |

E501 Line too long (145 > 120)
  --> infra/ai/maintenance/handlers_media.py:57:121
   |
55 | â€¦)})\n"
56 | â€¦
57 | â€¦k_data=f"m_sel:{category}:{items[i-1]['id']}") for i in range(1, len(items)+1)]
   |                                                        ^^^^^^^^^^^^^^^^^^^^^^^^^
58 | â€¦
59 | â€¦
   |

E501 Line too long (130 > 120)
  --> infra/ai/maintenance/handlers_media.py:61:122
   |
59 |         nav_row = []
60 |         if page > 0: nav_row.append(types.InlineKeyboardButton("â¬…ï¸", callback_data=f"m_pag:{category}:{page-1}"))
61 |         if end < total: nav_row.append(types.InlineKeyboardButton(f"â¡ï¸ ({total-end})", callback_data=f"m_pag:{category}:{page+1}"))
   |                                                                                                                         ^^^^^^^^^^
62 |         if nav_row: markup.row(*nav_row)
63 |         markup.add(types.InlineKeyboardButton("ğŸ  Menu Admin", callback_data="adm:main"))
   |

E501 Line too long (158 > 120)
  --> infra/ai/maintenance/handlers_media.py:86:121
   |
84 | â€¦
85 | â€¦
86 | â€¦, r'\bx26[45]\b', r'\bBluRay\b', r'\bWEB-DL\b', r'\bCOMPLETE\b', r'\bSeason\s*\d*\b']
   |                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
87 | â€¦
88 | â€¦RECASE)
   |

E501 Line too long (138 > 120)
   --> infra/ai/maintenance/handlers_media.py:99:119
    |
 97 | â€¦
 98 | â€¦medelta(seconds=eta_sec))
 99 | â€¦d(t['progress']*100,1)}% | ğŸ“‚ {round(t['size']/1024**3,2)}GB | â³ {eta}\n"
    |                                                          ^^^^^^^^^^^^^^^^^^
100 | â€¦
101 | â€¦
    |

E501 Line too long (153 > 120)
   --> infra/ai/maintenance/handlers_media.py:103:121
    |
101 | â€¦
102 | â€¦
103 | â€¦("m_pag", "m_sel", "m_act", "sel", "act", "share_exec", "share_final", "cancel")))
    |                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
104 | â€¦
105 | â€¦
    |

E501 Line too long (123 > 120)
   --> infra/ai/maintenance/handlers_media.py:116:121
    |
114 |             display_title = f"ID {item_id}"
115 |             try:
116 |                 r = requests.get(f"{cfg['url']}/api/v3/{endpoint}/{item_id}", headers={"X-Api-Key": cfg['key']}, timeout=5)
    |                                                                                                                         ^^^
117 |                 if r.status_code == 200: display_title = r.json().get('title', display_title)
118 |             except: pass
    |

E501 Line too long (160 > 120)
   --> infra/ai/maintenance/handlers_media.py:123:120
    |
121 | â€¦ata=f"m_act:share:{d[1]}:{d[2]}"),
122 | â€¦ta=f"m_pag:{d[1]}:0"))
123 | â€¦message.chat.id, call.message.message_id, reply_markup=markup, parse_mode='Markdown')
    |                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
124 | â€¦
125 | â€¦
    |

E501 Line too long (127 > 120)
   --> infra/ai/maintenance/handlers_media.py:131:121
    |
129 |                 endpoint = "movie" if cat == "films" else "series"
130 |                 try:
131 |                     r = requests.get(f"{cfg['url']}/api/v3/{endpoint}/{item_id}", headers={"X-Api-Key": cfg['key']}, timeout=5)
    |                                                                                                                         ^^^^^^^
132 |                     if r.status_code == 200:
133 |                         path = r.json().get('path')
    |

E501 Line too long (127 > 120)
   --> infra/ai/maintenance/handlers_media.py:146:121
    |
144 |         elif d[0] == "sel":
145 |             try:
146 |                 with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[2])]
    |                                                                                                                         ^^^^^^^
147 |                 markup = types.InlineKeyboardMarkup(row_width=2)
148 |                 act = "arc" if item['is_nvme'] else "res"
    |

E501 Line too long (197 > 120)
   --> infra/ai/maintenance/handlers_media.py:149:120
    |
147 | â€¦
148 | â€¦
149 | â€¦ct}:{d[1]}:{d[2]}"), types.InlineKeyboardButton("ğŸ—‘ï¸ Supprimer", callback_data=f"act:del:{d[1]}:{d[2]}"))
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
150 | â€¦ Partager", callback_data=f"share_exec:{d[2]}"))
151 | â€¦
    |

E501 Line too long (142 > 120)
   --> infra/ai/maintenance/handlers_media.py:150:120
    |
148 | â€¦
149 | â€¦est", callback_data=f"act:{act}:{d[1]}:{d[2]}"), types.InlineKeyboardButton("ğŸ—‘ï¸ Supprimer", callback_data=f"act:del:{d[1]}:{d[2]}"))
150 | â€¦ypes.InlineKeyboardButton("ğŸ”— Partager", callback_data=f"share_exec:{d[2]}"))
    |                                                         ^^^^^^^^^^^^^^^^^^^^^^
151 | â€¦, callback_data="cancel"))
152 | â€¦message.chat.id, call.message.message_id, reply_markup=markup)
    |

E501 Line too long (126 > 120)
   --> infra/ai/maintenance/handlers_media.py:152:122
    |
150 | â€¦             if call.from_user.id == SUPER_ADMIN: markup.add(types.InlineKeyboardButton("ğŸ”— Partager", callback_data=f"share_exec:{d[â€¦
151 | â€¦             markup.add(types.InlineKeyboardButton("âŒ Annuler", callback_data="cancel"))
152 | â€¦             bot.edit_message_text(f"ğŸ› ï¸ {item['name']}", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                                                                                                       ^^^^^^
153 | â€¦         except: bot.answer_callback_query(call.id, "âŒ Session expirÃ©e.")
154 | â€¦     elif d[0] == "act":
    |

E501 Line too long (127 > 120)
   --> infra/ai/maintenance/handlers_media.py:156:121
    |
154 |         elif d[0] == "act":
155 |             try:
156 |                 with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[3])]
    |                                                                                                                         ^^^^^^^
157 |                 res = subprocess.run(["python3", SCRIPT_PATH, "action", d[1], d[2], item['path']], capture_output=True, text=True)
158 |                 bot.edit_message_text(f"âœ… {item['name']}: {res.stdout.strip()}", call.message.chat.id, call.message.message_id)
    |

E501 Line too long (130 > 120)
   --> infra/ai/maintenance/handlers_media.py:157:121
    |
155 |             try:
156 |                 with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[3])]
157 |                 res = subprocess.run(["python3", SCRIPT_PATH, "action", d[1], d[2], item['path']], capture_output=True, text=True)
    |                                                                                                                         ^^^^^^^^^^
158 |                 bot.edit_message_text(f"âœ… {item['name']}: {res.stdout.strip()}", call.message.chat.id, call.message.message_id)
159 |             except: bot.answer_callback_query(call.id, "âŒ Erreur.")
    |

E501 Line too long (128 > 120)
   --> infra/ai/maintenance/handlers_media.py:158:120
    |
156 |                 with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[3])]
157 |                 res = subprocess.run(["python3", SCRIPT_PATH, "action", d[1], d[2], item['path']], capture_output=True, text=True)
158 |                 bot.edit_message_text(f"âœ… {item['name']}: {res.stdout.strip()}", call.message.chat.id, call.message.message_id)
    |                                                                                                                         ^^^^^^^^
159 |             except: bot.answer_callback_query(call.id, "âŒ Erreur.")
160 |         elif d[0] == "share_exec":
    |

E501 Line too long (127 > 120)
   --> infra/ai/maintenance/handlers_media.py:162:121
    |
160 |         elif d[0] == "share_exec":
161 |             try:
162 |                 with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[1])]
    |                                                                                                                         ^^^^^^^
163 |                 src = pathlib.Path(item['path']); subtitles = list(src.parent.glob(f"{src.stem}*.srt"))
164 |                 if subtitles:
    |

E501 Line too long (263 > 120)
   --> infra/ai/maintenance/handlers_media.py:166:120
    |
164 | â€¦
165 | â€¦
166 | â€¦ypes.InlineKeyboardButton("ğŸ¬ Remux", callback_data=f"share_final:{d[1]}:remux"), types.InlineKeyboardButton("âŒ Annuler", callback_data="cancel"))
    |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
167 | â€¦sage.chat.id, call.message.message_id, reply_markup=markup)
168 | â€¦message, data=f"share_final:{d[1]}:link", chat_instance=call.chat_instance))
    |

E501 Line too long (175 > 120)
   --> infra/ai/maintenance/handlers_media.py:167:120
    |
165 | â€¦
166 | â€¦ta=f"share_final:{d[1]}:link"), types.InlineKeyboardButton("ğŸ¬ Remux", callback_data=f"share_final:{d[1]}:remux"), types.InlineKeyboaâ€¦
167 | â€¦} sous-titres trouvÃ©s.", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
168 | â€¦ser=call.from_user, message=call.message, data=f"share_final:{d[1]}:link", chat_instance=call.chat_instance))
169 | â€¦
    |

E501 Line too long (191 > 120)
   --> infra/ai/maintenance/handlers_media.py:168:121
    |
166 | â€¦re_final:{d[1]}:link"), types.InlineKeyboardButton("ğŸ¬ Remux", callback_data=f"share_final:{d[1]}:remux"), types.InlineKeyboardButtonâ€¦
167 | â€¦itres trouvÃ©s.", call.message.chat.id, call.message.message_id, reply_markup=markup)
168 | â€¦.from_user, message=call.message, data=f"share_final:{d[1]}:link", chat_instance=call.chat_instance))
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
169 | â€¦
170 | â€¦
    |

E501 Line too long (127 > 120)
   --> infra/ai/maintenance/handlers_media.py:172:121
    |
170 |         elif d[0] == "share_final":
171 |             try:
172 |                 with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[1])]
    |                                                                                                                         ^^^^^^^
173 |                 remux_opt = True if d[2] == "remux" else False
174 |                 bot.edit_message_text("â³ Traitement...", call.message.chat.id, call.message.message_id)
    |

E501 Line too long (157 > 120)
   --> infra/ai/maintenance/handlers_media.py:176:119
    |
174 | â€¦t.id, call.message.message_id)
175 | â€¦mux=remux_opt)
176 | â€¦e.chat.id, f"âœ… **PartagÃ©**\n\nğŸ”— VidÃ©o : `{data['video']}`", parse_mode='Markdown')
    |                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
177 | â€¦
178 | â€¦rne.")
    |

E501 Line too long (204 > 120)
  --> infra/ai/maintenance/handlers_search.py:13:121
   |
11 | â€¦"}}"
12 | â€¦
13 | â€¦{"model": "gpt-4o-mini", "messages": [{"role": "user", "content": prompt}], "temperature": 0.1}, timeout=10)
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
14 | â€¦
15 | â€¦
   |

E501 Line too long (125 > 120)
  --> infra/ai/maintenance/handlers_search.py:60:121
   |
58 |             if cat == "series": payload["languageProfileId"] = 1
59 |
60 |             r = requests.post(f"{cfg['url']}/api/v3/{endpoint}", headers={"X-Api-Key": cfg['key']}, json=payload, timeout=10)
   |                                                                                                                         ^^^^^
61 |             if r.status_code in [200, 201]:
62 |                 bot.edit_message_text(f"âœ… **AjoutÃ© :** `{item['title']} ({item.get('year')})`", call.message.chat.id, call.message.mesâ€¦
   |

E501 Line too long (166 > 120)
  --> infra/ai/maintenance/handlers_search.py:62:120
   |
60 | â€¦Api-Key": cfg['key']}, json=payload, timeout=10)
61 | â€¦
62 | â€¦m.get('year')})`", call.message.chat.id, call.message.message_id, parse_mode='Markdown')
   |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
63 | â€¦
64 | â€¦")
   |

E501 Line too long (150 > 120)
  --> infra/ai/maintenance/media_manager.py:23:121
   |
21 | â€¦
22 | â€¦
23 | â€¦\bx26[45]\b', r'\bBluRay\b', r'\bWEB-DL\b', r'\bCOMPLETE\b', r'\bSeason\s*\d*\b']
   |                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
24 | â€¦
25 | â€¦SE)
   |

E501 Line too long (144 > 120)
  --> infra/ai/maintenance/media_manager.py:64:121
   |
62 | â€¦
63 | â€¦
64 | â€¦: f, "size_gb": round(size / (1024**3), 2), "is_nvme": is_nvme, "path": path})
   |                                                        ^^^^^^^^^^^^^^^^^^^^^^^^
65 | â€¦
   |

E501 Line too long (137 > 120)
   --> infra/ai/maintenance/pi_bot.py:108:121
    |
106 | â€¦tem['title']} ({item.get('year', '')})\n"
107 | â€¦
108 | â€¦a=f"m_sel:{category}:{items[i-1]['id']}") for i in range(1, len(items)+1)]
    |                                                           ^^^^^^^^^^^^^^^^^
109 | â€¦
110 | â€¦
    |

E501 Line too long (204 > 120)
   --> infra/ai/maintenance/pi_bot.py:132:121
    |
130 | â€¦"}}"
131 | â€¦
132 | â€¦{"model": "gpt-4o-mini", "messages": [{"role": "user", "content": prompt}], "temperature": 0.1}, timeout=10)
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
133 | â€¦
134 | â€¦
    |

E501 Line too long (133 > 120)
   --> infra/ai/maintenance/pi_bot.py:178:120
    |
176 | â€¦lback_data=f"m_act:share:{d[1]}:{d[2]}"),
177 | â€¦back_data=f"m_pag:{d[1]}:0"))
178 | â€¦*", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                                            ^^^^^^^^^^^^^
179 | â€¦.id, "ğŸ“¥ AjoutÃ©.")
180 | â€¦id, f"Action {d[1]} enregistrÃ©e.", show_alert=True)
    |

E501 Line too long (284 > 120)
   --> infra/ai/maintenance/pi_bot.py:188:119
    |
186 | â€¦
187 | â€¦
188 | â€¦ateurs", callback_data="adm:users"), InlineKeyboardButton("ğŸ§¹ Nettoyage SSD", callback_data="adm:clean"), InlineKeyboardButton("ğŸ”™ Fermer", callback_data="adm:close"))
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
189 | â€¦y_markup=markup)
190 | â€¦
    |

E501 Line too long (130 > 120)
   --> infra/ai/maintenance/pi_bot.py:189:122
    |
187 | â€¦         markup = InlineKeyboardMarkup(row_width=1)
188 | â€¦         markup.add(InlineKeyboardButton("ğŸ“‚ Partage", callback_data="adm:share"), InlineKeyboardButton("ğŸ‘¥ Utilisateurs", callback_d â€¦
189 | â€¦         bot.edit_message_text("ğŸ› ï¸ **Menu Administrateur**", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                                                                                                       ^^^^^^^^^^
190 | â€¦     elif cmd == "share":
191 | â€¦         markup = InlineKeyboardMarkup(row_width=1)
    |

E501 Line too long (238 > 120)
   --> infra/ai/maintenance/pi_bot.py:192:120
    |
190 | â€¦
191 | â€¦
192 | â€¦Button("âŒ Contenu non possÃ©dÃ©", callback_data="adm:share_new"), InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:main"))
    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
193 | â€¦y_markup=markup)
194 | â€¦
    |

E501 Line too long (130 > 120)
   --> infra/ai/maintenance/pi_bot.py:193:120
    |
191 | â€¦         markup = InlineKeyboardMarkup(row_width=1)
192 | â€¦         markup.add(InlineKeyboardButton("âœ… Contenu possÃ©dÃ©", callback_data="adm:share_owned"), InlineKeyboardButton("âŒ Contenu non â€¦
193 | â€¦         bot.edit_message_text("ğŸ“‚ **Gestion du Partage**", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                                                                                                       ^^^^^^^^^^
194 | â€¦     elif cmd == "users":
195 | â€¦         markup = InlineKeyboardMarkup(row_width=1)
    |

E501 Line too long (284 > 120)
   --> infra/ai/maintenance/pi_bot.py:196:119
    |
194 | â€¦
195 | â€¦
196 | â€¦outer", callback_data="adm:users_add"), InlineKeyboardButton("âŒ RÃ©voquer", callback_data="adm:users_rev"), InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:main"))
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
197 | â€¦reply_markup=markup)
198 | â€¦
    |

E501 Line too long (136 > 120)
   --> infra/ai/maintenance/pi_bot.py:197:120
    |
195 | â€¦
196 | â€¦ck_data="adm:users_list"), InlineKeyboardButton("â• Ajouter", callback_data="adm:users_add"), InlineKeyboardButton("âŒ RÃ©voquer", cal â€¦
197 | â€¦s**", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                                           ^^^^^^^^^^^^^^^^
198 | â€¦
199 | â€¦eurs :**\n\n" + "\n".join([f"â€¢ `{u}`" for u in users])
    |

E501 Line too long (211 > 120)
   --> infra/ai/maintenance/pi_bot.py:200:121
    |
198 | â€¦
199 | â€¦for u in users])
200 | â€¦InlineKeyboardMarkup().add(InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:users")), parse_mode='Markdown')
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
201 | â€¦
202 | â€¦
    |

E501 Line too long (135 > 120)
   --> infra/ai/maintenance/pi_bot.py:210:121
    |
208 | â€¦back_data=f"adm:users_del:{u}"))
209 | â€¦ack_data="adm:users"))
210 | â€¦r :", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                                            ^^^^^^^^^^^^^^^
211 | â€¦
212 | â€¦
    |

E501 Line too long (158 > 120)
   --> infra/ai/maintenance/pi_bot.py:214:121
    |
212 | â€¦
213 | â€¦swer_callback_query(call.id, "âœ… RÃ©voquÃ©.")
214 | â€¦from_user, message=call.message, data="adm:users", chat_instance=call.chat_instance))
    |                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
215 | â€¦
216 | â€¦
    |

E501 Line too long (230 > 120)
   --> infra/ai/maintenance/pi_bot.py:217:119
    |
215 | â€¦
216 | â€¦
217 | â€¦Button("ğŸ“º SÃ©ries", callback_data="adm:list_owned:series"), InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:share"))
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
218 | â€¦markup)
219 | â€¦
    |

E501 Line too long (123 > 120)
   --> infra/ai/maintenance/pi_bot.py:226:121
    |
224 |     if d[0] == "sel":
225 |         try:
226 |             with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[2])]
    |                                                                                                                         ^^^
227 |             markup = InlineKeyboardMarkup(row_width=2)
228 |             act = "arc" if item['is_nvme'] else "res"
    |

E501 Line too long (181 > 120)
   --> infra/ai/maintenance/pi_bot.py:229:120
    |
227 | â€¦
228 | â€¦
229 | â€¦}:{d[1]}:{d[2]}"), InlineKeyboardButton("ğŸ—‘ï¸ Supprimer", callback_data=f"act:del:{d[1]}:{d[2]}"))
    |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
230 | â€¦artager", callback_data=f"share_exec:{d[2]}"))
231 | â€¦
    |

E501 Line too long (132 > 120)
   --> infra/ai/maintenance/pi_bot.py:230:120
    |
228 | â€¦     act = "arc" if item['is_nvme'] else "res"
229 | â€¦     markup.add(InlineKeyboardButton("ğŸ“¦ Archiv/Rest", callback_data=f"act:{act}:{d[1]}:{d[2]}"), InlineKeyboardButton("ğŸ—‘ï¸ Supprimer"â€¦
230 | â€¦     if call.from_user.id == SUPER_ADMIN: markup.add(InlineKeyboardButton("ğŸ”— Partager", callback_data=f"share_exec:{d[2]}"))
    |                                                                                                                   ^^^^^^^^^^^^
231 | â€¦     markup.add(InlineKeyboardButton("âŒ Annuler", callback_data="cancel"))
232 | â€¦     bot.edit_message_text(f"ğŸ› ï¸ {item['name']}", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |

E501 Line too long (122 > 120)
   --> infra/ai/maintenance/pi_bot.py:232:122
    |
230 |             if call.from_user.id == SUPER_ADMIN: markup.add(InlineKeyboardButton("ğŸ”— Partager", callback_data=f"share_exec:{d[2]}"))
231 |             markup.add(InlineKeyboardButton("âŒ Annuler", callback_data="cancel"))
232 |             bot.edit_message_text(f"ğŸ› ï¸ {item['name']}", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                                                                                                         ^^
233 |         except: bot.answer_callback_query(call.id, "âŒ Session expirÃ©e.")
234 |     elif d[0] == "act":
    |

E501 Line too long (123 > 120)
   --> infra/ai/maintenance/pi_bot.py:236:121
    |
234 |     elif d[0] == "act":
235 |         try:
236 |             with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[3])]
    |                                                                                                                         ^^^
237 |             res = subprocess.run(["python3", SCRIPT_PATH, "action", d[1], d[2], item['path']], capture_output=True, text=True)
238 |             bot.edit_message_text(f"âœ… {item['name']}: {res.stdout.strip()}", call.message.chat.id, call.message.message_id)
    |

E501 Line too long (126 > 120)
   --> infra/ai/maintenance/pi_bot.py:237:121
    |
235 |         try:
236 |             with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[3])]
237 |             res = subprocess.run(["python3", SCRIPT_PATH, "action", d[1], d[2], item['path']], capture_output=True, text=True)
    |                                                                                                                         ^^^^^^
238 |             bot.edit_message_text(f"âœ… {item['name']}: {res.stdout.strip()}", call.message.chat.id, call.message.message_id)
239 |         except: bot.answer_callback_query(call.id, "âŒ Erreur.")
    |

E501 Line too long (124 > 120)
   --> infra/ai/maintenance/pi_bot.py:238:120
    |
236 |             with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[3])]
237 |             res = subprocess.run(["python3", SCRIPT_PATH, "action", d[1], d[2], item['path']], capture_output=True, text=True)
238 |             bot.edit_message_text(f"âœ… {item['name']}: {res.stdout.strip()}", call.message.chat.id, call.message.message_id)
    |                                                                                                                         ^^^^
239 |         except: bot.answer_callback_query(call.id, "âŒ Erreur.")
240 |     elif d[0] == "share_exec":
    |

E501 Line too long (123 > 120)
   --> infra/ai/maintenance/pi_bot.py:242:121
    |
240 |     elif d[0] == "share_exec":
241 |         try:
242 |             with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[1])]
    |                                                                                                                         ^^^
243 |             src = pathlib.Path(item['path']); subtitles = list(src.parent.glob(f"{src.stem}*.srt"))
244 |             if subtitles:
    |

E501 Line too long (241 > 120)
   --> infra/ai/maintenance/pi_bot.py:246:120
    |
244 | â€¦
245 | â€¦
246 | â€¦ardButton("ğŸ¬ Remux", callback_data=f"share_final:{d[1]}:remux"), InlineKeyboardButton("âŒ Annuler", callback_data="cancel"))
    |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
247 | â€¦.chat.id, call.message.message_id, reply_markup=markup)
248 | â€¦a=f"share_final:{d[1]}:link", chat_instance=call.chat_instance))
    |

E501 Line too long (171 > 120)
   --> infra/ai/maintenance/pi_bot.py:247:120
    |
245 | â€¦
246 | â€¦re_final:{d[1]}:link"), InlineKeyboardButton("ğŸ¬ Remux", callback_data=f"share_final:{d[1]}:remux"), InlineKeyboardButton("âŒ Annuler â€¦
247 | â€¦sous-titres trouvÃ©s.", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
248 | â€¦rom_user, message=call.message, data=f"share_final:{d[1]}:link", chat_instance=call.chat_instance))
249 | â€¦
    |

E501 Line too long (179 > 120)
   --> infra/ai/maintenance/pi_bot.py:248:121
    |
246 | â€¦inal:{d[1]}:link"), InlineKeyboardButton("ğŸ¬ Remux", callback_data=f"share_final:{d[1]}:remux"), InlineKeyboardButton("âŒ Annuler", c â€¦
247 | â€¦-titres trouvÃ©s.", call.message.chat.id, call.message.message_id, reply_markup=markup)
248 | â€¦user, message=call.message, data=f"share_final:{d[1]}:link", chat_instance=call.chat_instance))
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
249 | â€¦
250 | â€¦
    |

E501 Line too long (123 > 120)
   --> infra/ai/maintenance/pi_bot.py:252:121
    |
250 |     elif d[0] == "share_final":
251 |         try:
252 |             with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[1])]
    |                                                                                                                         ^^^
253 |             remux_opt = True if d[2] == "remux" else False
254 |             bot.edit_message_text("â³ Traitement...", call.message.chat.id, call.message.message_id)
    |

E501 Line too long (144 > 120)
  --> infra/ai/maintenance/pi_bot_debug.py:43:122
   |
41 | â€¦
42 | â€¦
43 | â€¦entative d'accÃ¨s au menu admin par {m.from_user.id} (@{m.from_user.username})")
   |                                                         ^^^^^^^^^^^^^^^^^^^^^^^^
44 | â€¦
45 | â€¦
   |

E501 Line too long (280 > 120)
  --> infra/ai/maintenance/pi_bot_debug.py:64:119
   |
62 | â€¦
63 | â€¦
64 | â€¦rs", callback_data="adm:users"), InlineKeyboardButton("ğŸ§¹ Nettoyage SSD", callback_data="adm:clean"), InlineKeyboardButton("ğŸ”™ Fermer", callback_data="adm:close"))
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
65 | â€¦rkup=markup)
   |

E501 Line too long (126 > 120)
  --> infra/ai/maintenance/pi_bot_debug.py:65:122
   |
63 |         markup = InlineKeyboardMarkup(row_width=1)
64 |         markup.add(InlineKeyboardButton("ğŸ“‚ Partage", callback_data="adm:share"), InlineKeyboardButton("ğŸ‘¥ Utilisateurs", callback_data â€¦
65 |         bot.edit_message_text("ğŸ› ï¸ **Menu Administrateur**", call.message.chat.id, call.message.message_id, reply_markup=markup)
   |                                                                                                                         ^^^^^^
66 |     
67 |     elif cmd == "share":
   |

E501 Line too long (234 > 120)
  --> infra/ai/maintenance/pi_bot_debug.py:69:119
   |
67 | â€¦
68 | â€¦
69 | â€¦tton("âŒ Contenu non possÃ©dÃ©", callback_data="adm:share_new"), InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:main"))
   |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
70 | â€¦markup=markup)
   |

E501 Line too long (126 > 120)
  --> infra/ai/maintenance/pi_bot_debug.py:70:120
   |
68 |         markup = InlineKeyboardMarkup(row_width=1)
69 |         markup.add(InlineKeyboardButton("âœ… Contenu possÃ©dÃ©", callback_data="adm:share_owned"), InlineKeyboardButton("âŒ Contenu non po â€¦
70 |         bot.edit_message_text("ğŸ“‚ **Gestion du Partage**", call.message.chat.id, call.message.message_id, reply_markup=markup)
   |                                                                                                                         ^^^^^^
71 |     
72 |     elif cmd == "users":
   |

E501 Line too long (132 > 120)
  --> infra/ai/maintenance/pi_bot_debug.py:78:120
   |
76 |                    InlineKeyboardButton("âŒ RÃ©voquer un accÃ¨s", callback_data="adm:users_rev"),
77 |                    InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:main"))
78 |         bot.edit_message_text("ğŸ‘¥ **Gestion des Utilisateurs**", call.message.chat.id, call.message.message_id, reply_markup=markup)
   |                                                                                                                         ^^^^^^^^^^^^
79 |     
80 |     elif cmd == "users_list":
   |

E501 Line too long (126 > 120)
  --> infra/ai/maintenance/pi_bot_debug.py:84:121
   |
82 |         text = "ğŸ“‹ **Utilisateurs autorisÃ©s :**\n\n" + "\n".join([f"â€¢ `{u}`" for u in users])
83 |         markup = InlineKeyboardMarkup().add(InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:users"))
84 |         bot.edit_message_text(text, call.message.chat.id, call.message.message_id, reply_markup=markup, parse_mode='Markdown')
   |                                                                                                                         ^^^^^^
85 |     
86 |     elif cmd == "users_add":
   |

E501 Line too long (131 > 120)
  --> infra/ai/maintenance/pi_bot_debug.py:97:121
   |
95 |             markup.add(InlineKeyboardButton(f"âŒ {u}", callback_data=f"adm:users_del:{u}"))
96 |         markup.add(InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:users"))
97 |         bot.edit_message_text("SÃ©lectionnez l'ID Ã  rÃ©voquer :", call.message.chat.id, call.message.message_id, reply_markup=markup)
   |                                                                                                                         ^^^^^^^^^^^
98 |     
99 |     elif cmd == "users_del":
   |

E501 Line too long (226 > 120)
   --> infra/ai/maintenance/pi_bot_debug.py:110:119
    |
108 | â€¦
109 | â€¦
110 | â€¦tton("ğŸ“º SÃ©ries", callback_data="adm:list_owned:series"), InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:share"))
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
111 | â€¦ reply_markup=markup)
    |

E501 Line too long (128 > 120)
   --> infra/ai/maintenance/pi_bot_debug.py:111:121
    |
109 |         markup = InlineKeyboardMarkup(row_width=2)
110 |         markup.add(InlineKeyboardButton("ğŸ¬ Films", callback_data="adm:list_owned:movies"), InlineKeyboardButton("ğŸ“º SÃ©ries", callback â€¦
111 |         bot.edit_message_text("SÃ©lectionnez la catÃ©gorie :", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                                                                                                         ^^^^^^^^
112 |     
113 |     elif cmd == "list_owned":
    |

E501 Line too long (234 > 120)
   --> infra/ai/maintenance/pi_bot_debug.py:117:120
    |
116 | â€¦
117 | â€¦e vous souhaitez rechercher et partager. L'IA s'occupera de la recherche.", call.message.chat.id, call.message.message_id)
    |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
118 | â€¦
119 | â€¦
    |

E501 Line too long (145 > 120)
   --> infra/ai/maintenance/pi_bot_debug.py:120:120
    |
119 | â€¦
120 | â€¦Ã© en cours de dÃ©veloppement.", call.message.chat.id, call.message.message_id)
    |                                                      ^^^^^^^^^^^^^^^^^^^^^^^^^
121 | â€¦
122 | â€¦all.message.message_id)
    |

E501 Line too long (122 > 120)
   --> infra/ai/maintenance/pi_bot_debug.py:192:121
    |
190 |             bot.answer_callback_query(call.id, "âŒ Session expirÃ©e.")
191 |             return
192 |         res = subprocess.run(["python3", SCRIPT_PATH, "action", d[1], d[2], item['path']], capture_output=True, text=True)
    |                                                                                                                         ^^
193 |         bot.edit_message_text(f"âœ… {item['name']}: {res.stdout.strip()}", call.message.chat.id, call.message.message_id)
194 |     elif d[0] == "share_exec":
    |

E501 Line too long (174 > 120)
   --> infra/ai/maintenance/pi_bot_debug.py:212:120
    |
210 | â€¦data=f"share_final:{d[1]}:remux"),
211 | â€¦
212 | â€¦us-titre(s) trouvÃ©(s).", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
213 | â€¦
214 | â€¦
    |

E501 Line too long (180 > 120)
   --> infra/ai/maintenance/pi_bot_debug.py:215:121
    |
213 | â€¦
214 | â€¦
215 | â€¦_user, message=call.message, data=f"share_final:{d[1]}:link", chat_instance=call.chat_instance))
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
216 | â€¦
217 | â€¦
    |

E501 Line too long (150 > 120)
   --> infra/ai/maintenance/pi_bot_debug.py:227:119
    |
226 | â€¦
227 | â€¦ else "â³ GÃ©nÃ©ration du lien...", call.message.chat.id, call.message.message_id)
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
228 | â€¦
229 | â€¦remux_opt)
    |

E501 Line too long (151 > 120)
   --> infra/ai/maintenance/pi_bot_debug.py:233:118
    |
231 | â€¦
232 | â€¦
233 | â€¦dÃ©o : `{data['video']}`\n\nâœ… Les sous-titres ont Ã©tÃ© intÃ©grÃ©s au fichier MKV."
    |                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
234 | â€¦
235 | â€¦{data['video']}`\n"
    |

E501 Line too long (133 > 120)
   --> infra/ai/maintenance/pi_bot_debug.py:280:121
    |
279 | â€¦     try:
280 | â€¦         r_add = requests.post(f"{cfg['url']}/api/v3/{endpoint}", headers={"X-Api-Key": cfg['key']}, json=payload, timeout=10)
    |                                                                                                                   ^^^^^^^^^^^^^
281 | â€¦         if r_add.status_code in [200, 201]:
282 | â€¦             bot.edit_message_text(f"ğŸ“¥ **AjoutÃ© Ã  la file d'attente :** `{dl_data['found_title']} ({dl_data['year']})`\nLe tÃ©lÃ©chargâ€¦
    |

E501 Line too long (229 > 120)
   --> infra/ai/maintenance/pi_bot_debug.py:282:120
    |
280 | â€¦son=payload, timeout=10)
281 | â€¦
282 | â€¦_data['year']})`\nLe tÃ©lÃ©chargement va dÃ©buter.", call.message.chat.id, call.message.message_id, parse_mode='Markdown')
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
283 | â€¦
284 | â€¦
    |

E501 Line too long (142 > 120)
   --> infra/ai/maintenance/pi_bot_debug.py:285:120
    |
283 | â€¦
284 | â€¦
285 | â€¦rreur {r_add.status_code}).", call.message.chat.id, call.message.message_id)
    |                                                        ^^^^^^^^^^^^^^^^^^^^^^
286 | â€¦
287 | â€¦
    |

E501 Line too long (131 > 120)
   --> infra/ai/maintenance/pi_bot_debug.py:288:120
    |
286 |             except Exception as e:
287 |                 logging.error(f"Arr API Error: {e}")
288 |                 bot.edit_message_text("âŒ Erreur de communication avec le serveur.", call.message.chat.id, call.message.message_id)
    |                                                                                                                         ^^^^^^^^^^^
289 |
290 | @bot.message_handler(commands=['status'])
    |

E501 Line too long (154 > 120)
   --> infra/ai/maintenance/pi_bot_debug.py:344:121
    |
342 | â€¦
343 | â€¦
344 | â€¦r'\bx26[45]\b', r'\bBluRay\b', r'\bWEB-DL\b', r'\bCOMPLETE\b', r'\bSeason\s*\d*\b']
    |                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
345 | â€¦
346 | â€¦CASE)
    |

E501 Line too long (453 > 120)
   --> infra/ai/maintenance/pi_bot_debug.py:376:121
    |
374 | â€¦
375 | â€¦
376 | â€¦arsing :\n'S01E01' ou 'S1E1' -> saison: 1, episode: 1\n'Saison 2' -> saison: 2, episode: null\nSi c'est un film ou incertain -> type: 'film', saison/episode: null\nSi c'est une sÃ©rie -> type: 'serie'\n\nRenvoie UNIQUEMENT un JSON pur : {{\"titre\": \"str\", \"saison\": \"int|null\", \"episode\": \"int|null\", \"type\": \"serie|film\"}}"
    |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
377 | â€¦
378 | â€¦
    |

E501 Line too long (124 > 120)
   --> infra/ai/maintenance/pi_bot_debug.py:473:120
    |
471 |         return
472 |
473 |     bot.send_message(m.chat.id, f"ğŸ” **Recherche en cours :** `{titre}` ({type_media.capitalize()})", parse_mode='Markdown')
    |                                                                                                                         ^^^^
474 |
475 |     # 2. Phase de Routage & VÃ©rification de DisponibilitÃ© locale
    |

E501 Line too long (133 > 120)
   --> infra/ai/maintenance/pi_bot_debug.py:491:121
    |
489 |     try:
490 |         # Recherche API Sonarr/Radarr
491 |         r_lookup = requests.get(f"{cfg['url']}/api/v3/{endpoint}/lookup?term={titre}", headers={"X-Api-Key": cfg['key']}, timeout=10)
    |                                                                                                                         ^^^^^^^^^^^^^
492 |         results = r_lookup.json()
    |

E501 Line too long (172 > 120)
   --> infra/ai/maintenance/pi_bot_debug.py:508:120
    |
507 | â€¦
508 | â€¦ssÃ©dÃ© ou en cours de tÃ©lÃ©chargement sur {'Radarr' if type_media == 'film' else 'Sonarr'}.")
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
509 | â€¦
    |

E501 Line too long (126 > 120)
  --> infra/ai/maintenance/share_engine.py:10:121
   |
 9 | SHARE_DIR = "/media_share/" if os.environ.get("DOCKER_MODE") == "true" else "/home/jules/media_share/"
10 | CONFIG_FILE = "/app/config_share.json" if os.environ.get("DOCKER_MODE") == "true" else "/home/jules/scripts/config_share.json"
   |                                                                                                                         ^^^^^^
11 | BASE_URL = "https://share.juleslaconfourque.fr"
   |

E501 Line too long (134 > 120)
  --> infra/ai/maintenance/share_engine.py:39:121
   |
37 |                     break
38 |         
39 |         cmd = ["ffprobe", "-v", "error", "-select_streams", "v:0", "-show_entries", "stream=height", "-of", "csv=s=x:p=0", probe_path]
   |                                                                                                                         ^^^^^^^^^^^^^^
40 |         res = subprocess.run(cmd, capture_output=True, text=True)
41 |         height = int(res.stdout.strip()) if res.stdout.strip().isdigit() else 0
   |

E501 Line too long (146 > 120)
  --> infra/ai/maintenance/storage_skill.py:13:119
   |
11 | â€¦ouvable."
12 | â€¦
13 | â€¦}" for i in sorted(items)]) if items else f"ğŸ“‚ Aucun contenu dans {category}."
   |                                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^
14 | â€¦
15 | â€¦
   |

E501 Line too long (308 > 120)
  --> infra/handlers_admin.py:56:120
   |
54 | â€¦
55 | â€¦
56 | â€¦on("ğŸ‘¥ Utilisateurs", callback_data="adm:users"), types.InlineKeyboardButton("ğŸ§¹ Nettoyage SSD", callback_data="adm:clean"), types.InlineKeyboardButton("ğŸ”™ Fermer", callback_data="adm:close"))
   |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
57 | â€¦y_markup=markup)
58 | â€¦
   |

E501 Line too long (130 > 120)
  --> infra/handlers_admin.py:57:122
   |
55 | â€¦         markup = types.InlineKeyboardMarkup(row_width=1)
56 | â€¦         markup.add(types.InlineKeyboardButton("ğŸ“‚ Partage", callback_data="adm:share"), types.InlineKeyboardButton("ğŸ‘¥ Utilisateurs", â€¦
57 | â€¦         bot.edit_message_text("ğŸ› ï¸ **Menu Administrateur**", call.message.chat.id, call.message.message_id, reply_markup=markup)
   |                                                                                                                       ^^^^^^^^^^
58 | â€¦     elif cmd == "share":
59 | â€¦         markup = types.InlineKeyboardMarkup(row_width=1)
   |

E501 Line too long (256 > 120)
  --> infra/handlers_admin.py:60:120
   |
58 | â€¦
59 | â€¦
60 | â€¦neKeyboardButton("âŒ Contenu non possÃ©dÃ©", callback_data="adm:share_new"), types.InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:main"))
   |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
61 | â€¦markup=markup)
62 | â€¦
   |

E501 Line too long (130 > 120)
  --> infra/handlers_admin.py:61:120
   |
59 | â€¦         markup = types.InlineKeyboardMarkup(row_width=1)
60 | â€¦         markup.add(types.InlineKeyboardButton("âœ… Contenu possÃ©dÃ©", callback_data="adm:share_owned"), types.InlineKeyboardButton("âŒ  â€¦
61 | â€¦         bot.edit_message_text("ğŸ“‚ **Gestion du Partage**", call.message.chat.id, call.message.message_id, reply_markup=markup)
   |                                                                                                                       ^^^^^^^^^^
62 | â€¦     elif cmd == "users":
63 | â€¦         markup = types.InlineKeyboardMarkup(row_width=1)
   |

E501 Line too long (308 > 120)
  --> infra/handlers_admin.py:64:120
   |
62 | â€¦
63 | â€¦
64 | â€¦Button("â• Ajouter", callback_data="adm:users_add"), types.InlineKeyboardButton("âŒ RÃ©voquer", callback_data="adm:users_rev"), types.InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:main"))
   |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
65 | â€¦reply_markup=markup)
66 | â€¦
   |

E501 Line too long (136 > 120)
  --> infra/handlers_admin.py:65:120
   |
63 | â€¦
64 | â€¦callback_data="adm:users_list"), types.InlineKeyboardButton("â• Ajouter", callback_data="adm:users_add"), types.InlineKeyboardButton("â€¦
65 | â€¦s**", call.message.chat.id, call.message.message_id, reply_markup=markup)
   |                                                           ^^^^^^^^^^^^^^^^
66 | â€¦
67 | â€¦(f)["allowed"]
   |

E501 Line too long (223 > 120)
  --> infra/handlers_admin.py:69:121
   |
67 | â€¦
68 | â€¦
69 | â€¦.InlineKeyboardMarkup().add(types.InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:users")), parse_mode='Markdown')
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
70 | â€¦
71 | â€¦
   |

E501 Line too long (135 > 120)
  --> infra/handlers_admin.py:80:121
   |
78 | â€¦", callback_data=f"adm:users_del:{u}"))
79 | â€¦, callback_data="adm:users"))
80 | â€¦er :", call.message.chat.id, call.message.message_id, reply_markup=markup)
   |                                                             ^^^^^^^^^^^^^^^
81 | â€¦
82 | â€¦
   |

E501 Line too long (166 > 120)
  --> infra/handlers_admin.py:88:121
   |
86 | â€¦
87 | â€¦
88 | â€¦all.from_user, message=call.message, data="adm:users", chat_instance=call.chat_instance))
   |                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
89 | â€¦
90 | â€¦
   |

E501 Line too long (248 > 120)
  --> infra/handlers_admin.py:91:120
   |
89 | â€¦
90 | â€¦
91 | â€¦yboardButton("ğŸ“º SÃ©ries", callback_data="adm:list_owned:series"), types.InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:share"))
   |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
92 | â€¦)
93 | â€¦
   |

E501 Line too long (145 > 120)
  --> infra/handlers_media.py:57:121
   |
55 | â€¦)})\n"
56 | â€¦
57 | â€¦k_data=f"m_sel:{category}:{items[i-1]['id']}") for i in range(1, len(items)+1)]
   |                                                        ^^^^^^^^^^^^^^^^^^^^^^^^^
58 | â€¦
59 | â€¦
   |

E501 Line too long (130 > 120)
  --> infra/handlers_media.py:61:122
   |
59 |         nav_row = []
60 |         if page > 0: nav_row.append(types.InlineKeyboardButton("â¬…ï¸", callback_data=f"m_pag:{category}:{page-1}"))
61 |         if end < total: nav_row.append(types.InlineKeyboardButton(f"â¡ï¸ ({total-end})", callback_data=f"m_pag:{category}:{page+1}"))
   |                                                                                                                         ^^^^^^^^^^
62 |         if nav_row: markup.row(*nav_row)
63 |         markup.add(types.InlineKeyboardButton("ğŸ  Menu Admin", callback_data="adm:main"))
   |

E501 Line too long (158 > 120)
  --> infra/handlers_media.py:86:121
   |
84 | â€¦
85 | â€¦
86 | â€¦, r'\bx26[45]\b', r'\bBluRay\b', r'\bWEB-DL\b', r'\bCOMPLETE\b', r'\bSeason\s*\d*\b']
   |                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
87 | â€¦
88 | â€¦RECASE)
   |

E501 Line too long (138 > 120)
   --> infra/handlers_media.py:99:119
    |
 97 | â€¦
 98 | â€¦medelta(seconds=eta_sec))
 99 | â€¦d(t['progress']*100,1)}% | ğŸ“‚ {round(t['size']/1024**3,2)}GB | â³ {eta}\n"
    |                                                          ^^^^^^^^^^^^^^^^^^
100 | â€¦
101 | â€¦
    |

E501 Line too long (153 > 120)
   --> infra/handlers_media.py:103:121
    |
101 | â€¦
102 | â€¦
103 | â€¦("m_pag", "m_sel", "m_act", "sel", "act", "share_exec", "share_final", "cancel")))
    |                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
104 | â€¦
105 | â€¦
    |

E501 Line too long (123 > 120)
   --> infra/handlers_media.py:116:121
    |
114 |             display_title = f"ID {item_id}"
115 |             try:
116 |                 r = requests.get(f"{cfg['url']}/api/v3/{endpoint}/{item_id}", headers={"X-Api-Key": cfg['key']}, timeout=5)
    |                                                                                                                         ^^^
117 |                 if r.status_code == 200: display_title = r.json().get('title', display_title)
118 |             except: pass
    |

E501 Line too long (160 > 120)
   --> infra/handlers_media.py:123:120
    |
121 | â€¦ata=f"m_act:share:{d[1]}:{d[2]}"),
122 | â€¦ta=f"m_pag:{d[1]}:0"))
123 | â€¦message.chat.id, call.message.message_id, reply_markup=markup, parse_mode='Markdown')
    |                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
124 | â€¦
125 | â€¦
    |

E501 Line too long (127 > 120)
   --> infra/handlers_media.py:131:121
    |
129 |                 endpoint = "movie" if cat == "films" else "series"
130 |                 try:
131 |                     r = requests.get(f"{cfg['url']}/api/v3/{endpoint}/{item_id}", headers={"X-Api-Key": cfg['key']}, timeout=5)
    |                                                                                                                         ^^^^^^^
132 |                     if r.status_code == 200:
133 |                         path = r.json().get('path')
    |

E501 Line too long (127 > 120)
   --> infra/handlers_media.py:146:121
    |
144 |         elif d[0] == "sel":
145 |             try:
146 |                 with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[2])]
    |                                                                                                                         ^^^^^^^
147 |                 markup = types.InlineKeyboardMarkup(row_width=2)
148 |                 act = "arc" if item['is_nvme'] else "res"
    |

E501 Line too long (197 > 120)
   --> infra/handlers_media.py:149:120
    |
147 | â€¦
148 | â€¦
149 | â€¦ct}:{d[1]}:{d[2]}"), types.InlineKeyboardButton("ğŸ—‘ï¸ Supprimer", callback_data=f"act:del:{d[1]}:{d[2]}"))
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
150 | â€¦ Partager", callback_data=f"share_exec:{d[2]}"))
151 | â€¦
    |

E501 Line too long (142 > 120)
   --> infra/handlers_media.py:150:120
    |
148 | â€¦
149 | â€¦est", callback_data=f"act:{act}:{d[1]}:{d[2]}"), types.InlineKeyboardButton("ğŸ—‘ï¸ Supprimer", callback_data=f"act:del:{d[1]}:{d[2]}"))
150 | â€¦ypes.InlineKeyboardButton("ğŸ”— Partager", callback_data=f"share_exec:{d[2]}"))
    |                                                         ^^^^^^^^^^^^^^^^^^^^^^
151 | â€¦, callback_data="cancel"))
152 | â€¦message.chat.id, call.message.message_id, reply_markup=markup)
    |

E501 Line too long (126 > 120)
   --> infra/handlers_media.py:152:122
    |
150 | â€¦             if call.from_user.id == SUPER_ADMIN: markup.add(types.InlineKeyboardButton("ğŸ”— Partager", callback_data=f"share_exec:{d[â€¦
151 | â€¦             markup.add(types.InlineKeyboardButton("âŒ Annuler", callback_data="cancel"))
152 | â€¦             bot.edit_message_text(f"ğŸ› ï¸ {item['name']}", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                                                                                                       ^^^^^^
153 | â€¦         except: bot.answer_callback_query(call.id, "âŒ Session expirÃ©e.")
154 | â€¦     elif d[0] == "act":
    |

E501 Line too long (127 > 120)
   --> infra/handlers_media.py:156:121
    |
154 |         elif d[0] == "act":
155 |             try:
156 |                 with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[3])]
    |                                                                                                                         ^^^^^^^
157 |                 res = subprocess.run(["python3", SCRIPT_PATH, "action", d[1], d[2], item['path']], capture_output=True, text=True)
158 |                 bot.edit_message_text(f"âœ… {item['name']}: {res.stdout.strip()}", call.message.chat.id, call.message.message_id)
    |

E501 Line too long (130 > 120)
   --> infra/handlers_media.py:157:121
    |
155 |             try:
156 |                 with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[3])]
157 |                 res = subprocess.run(["python3", SCRIPT_PATH, "action", d[1], d[2], item['path']], capture_output=True, text=True)
    |                                                                                                                         ^^^^^^^^^^
158 |                 bot.edit_message_text(f"âœ… {item['name']}: {res.stdout.strip()}", call.message.chat.id, call.message.message_id)
159 |             except: bot.answer_callback_query(call.id, "âŒ Erreur.")
    |

E501 Line too long (128 > 120)
   --> infra/handlers_media.py:158:120
    |
156 |                 with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[3])]
157 |                 res = subprocess.run(["python3", SCRIPT_PATH, "action", d[1], d[2], item['path']], capture_output=True, text=True)
158 |                 bot.edit_message_text(f"âœ… {item['name']}: {res.stdout.strip()}", call.message.chat.id, call.message.message_id)
    |                                                                                                                         ^^^^^^^^
159 |             except: bot.answer_callback_query(call.id, "âŒ Erreur.")
160 |         elif d[0] == "share_exec":
    |

E501 Line too long (127 > 120)
   --> infra/handlers_media.py:162:121
    |
160 |         elif d[0] == "share_exec":
161 |             try:
162 |                 with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[1])]
    |                                                                                                                         ^^^^^^^
163 |                 src = pathlib.Path(item['path']); subtitles = list(src.parent.glob(f"{src.stem}*.srt"))
164 |                 if subtitles:
    |

E501 Line too long (263 > 120)
   --> infra/handlers_media.py:166:120
    |
164 | â€¦
165 | â€¦
166 | â€¦ypes.InlineKeyboardButton("ğŸ¬ Remux", callback_data=f"share_final:{d[1]}:remux"), types.InlineKeyboardButton("âŒ Annuler", callback_data="cancel"))
    |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
167 | â€¦sage.chat.id, call.message.message_id, reply_markup=markup)
168 | â€¦message, data=f"share_final:{d[1]}:link", chat_instance=call.chat_instance))
    |

E501 Line too long (175 > 120)
   --> infra/handlers_media.py:167:120
    |
165 | â€¦
166 | â€¦ta=f"share_final:{d[1]}:link"), types.InlineKeyboardButton("ğŸ¬ Remux", callback_data=f"share_final:{d[1]}:remux"), types.InlineKeyboaâ€¦
167 | â€¦} sous-titres trouvÃ©s.", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
168 | â€¦ser=call.from_user, message=call.message, data=f"share_final:{d[1]}:link", chat_instance=call.chat_instance))
169 | â€¦
    |

E501 Line too long (191 > 120)
   --> infra/handlers_media.py:168:121
    |
166 | â€¦re_final:{d[1]}:link"), types.InlineKeyboardButton("ğŸ¬ Remux", callback_data=f"share_final:{d[1]}:remux"), types.InlineKeyboardButtonâ€¦
167 | â€¦itres trouvÃ©s.", call.message.chat.id, call.message.message_id, reply_markup=markup)
168 | â€¦.from_user, message=call.message, data=f"share_final:{d[1]}:link", chat_instance=call.chat_instance))
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
169 | â€¦
170 | â€¦
    |

E501 Line too long (127 > 120)
   --> infra/handlers_media.py:172:121
    |
170 |         elif d[0] == "share_final":
171 |             try:
172 |                 with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[1])]
    |                                                                                                                         ^^^^^^^
173 |                 remux_opt = True if d[2] == "remux" else False
174 |                 bot.edit_message_text("â³ Traitement...", call.message.chat.id, call.message.message_id)
    |

E501 Line too long (157 > 120)
   --> infra/handlers_media.py:176:119
    |
174 | â€¦t.id, call.message.message_id)
175 | â€¦mux=remux_opt)
176 | â€¦e.chat.id, f"âœ… **PartagÃ©**\n\nğŸ”— VidÃ©o : `{data['video']}`", parse_mode='Markdown')
    |                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
177 | â€¦
178 | â€¦rne.")
    |

E501 Line too long (204 > 120)
  --> infra/handlers_search.py:13:121
   |
11 | â€¦"}}"
12 | â€¦
13 | â€¦{"model": "gpt-4o-mini", "messages": [{"role": "user", "content": prompt}], "temperature": 0.1}, timeout=10)
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
14 | â€¦
15 | â€¦
   |

E501 Line too long (125 > 120)
  --> infra/handlers_search.py:60:121
   |
58 |             if cat == "series": payload["languageProfileId"] = 1
59 |
60 |             r = requests.post(f"{cfg['url']}/api/v3/{endpoint}", headers={"X-Api-Key": cfg['key']}, json=payload, timeout=10)
   |                                                                                                                         ^^^^^
61 |             if r.status_code in [200, 201]:
62 |                 bot.edit_message_text(f"âœ… **AjoutÃ© :** `{item['title']} ({item.get('year')})`", call.message.chat.id, call.message.mesâ€¦
   |

E501 Line too long (166 > 120)
  --> infra/handlers_search.py:62:120
   |
60 | â€¦Api-Key": cfg['key']}, json=payload, timeout=10)
61 | â€¦
62 | â€¦m.get('year')})`", call.message.chat.id, call.message.message_id, parse_mode='Markdown')
   |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
63 | â€¦
64 | â€¦")
   |

E501 Line too long (132 > 120)
  --> infra/monitoring/add_ip_widgets.py:21:121
   |
19 |         "datasource": { "type": "prometheus", "uid": "Prometheus" },
20 |         "targets": [
21 |             { "expr": "last_over_time(public_ip_info{type='host'}[1h])", "format": "table", "legendFormat": "{{ip}}", "refId": "A" }
   |                                                                                                                         ^^^^^^^^^^^^
22 |         ],
23 |         "fieldConfig": {
   |

E501 Line too long (131 > 120)
  --> infra/monitoring/add_ip_widgets.py:38:121
   |
36 |         "datasource": { "type": "prometheus", "uid": "Prometheus" },
37 |         "targets": [
38 |             { "expr": "last_over_time(public_ip_info{type='vpn'}[1h])", "format": "table", "legendFormat": "{{ip}}", "refId": "A" }
   |                                                                                                                         ^^^^^^^^^^^
39 |         ],
40 |         "fieldConfig": {
   |

E501 Line too long (132 > 120)
  --> infra/monitoring/create_custom_dashboard.py:47:121
   |
45 |         "datasource": { "type": "prometheus", "uid": "Prometheus" },
46 |         "targets": [
47 |           { "expr": "rate(container_network_receive_bytes_total{name=\"gluetun\"}[5m])", "legendFormat": "Download", "refId": "A" },
   |                                                                                                                         ^^^^^^^^^^^^
48 |           { "expr": "rate(container_network_transmit_bytes_total{name=\"gluetun\"}[5m])", "legendFormat": "Upload", "refId": "B" }
49 |         ],
   |

E501 Line too long (130 > 120)
  --> infra/monitoring/create_custom_dashboard.py:48:121
   |
46 |         "targets": [
47 |           { "expr": "rate(container_network_receive_bytes_total{name=\"gluetun\"}[5m])", "legendFormat": "Download", "refId": "A" },
48 |           { "expr": "rate(container_network_transmit_bytes_total{name=\"gluetun\"}[5m])", "legendFormat": "Upload", "refId": "B" }
   |                                                                                                                         ^^^^^^^^^^
49 |         ],
50 |         "fieldConfig": {
   |

E501 Line too long (146 > 120)
  --> infra/monitoring/create_custom_dashboard.py:68:121
   |
66 | â€¦,
67 | â€¦
68 | â€¦=\"/\"} * 100) / node_filesystem_size_bytes{mountpoint=\"/\"})", "refId": "A" }
   |                                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^
69 | â€¦
70 | â€¦
   |

E501 Line too long (130 > 120)
  --> infra/monitoring/deploy_architect_master.py:87:121
   |
85 |         "datasource": { "type": "prometheus", "uid": "Prometheus" },
86 |         "targets": [
87 |           { "expr": "rate(container_network_receive_bytes_total{name='gluetun'}[5m])", "legendFormat": "Download", "refId": "A" },
   |                                                                                                                         ^^^^^^^^^^
88 |           { "expr": "rate(container_network_transmit_bytes_total{name='gluetun'}[5m])", "legendFormat": "Upload", "refId": "B" }
89 |         ],
   |

E501 Line too long (128 > 120)
  --> infra/monitoring/deploy_architect_master.py:88:121
   |
86 |         "targets": [
87 |           { "expr": "rate(container_network_receive_bytes_total{name='gluetun'}[5m])", "legendFormat": "Download", "refId": "A" },
88 |           { "expr": "rate(container_network_transmit_bytes_total{name='gluetun'}[5m])", "legendFormat": "Upload", "refId": "B" }
   |                                                                                                                         ^^^^^^^^
89 |         ],
90 |         "fieldConfig": {
   |

E501 Line too long (169 > 120)
   --> infra/monitoring/deploy_architect_master.py:103:121
    |
101 | â€¦
102 | â€¦
103 | â€¦ / node_filesystem_size_bytes{mountpoint='/'})", "legendFormat": "Root FS", "refId": "A" }
    |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
104 | â€¦
105 | â€¦
    |

E501 Line too long (130 > 120)
  --> infra/monitoring/deploy_v2_clean.py:22:121
   |
20 |                 "gridPos": {"h": 4, "w": 12, "x": 0, "y": 0},
21 |                 "datasource": {"type": "prometheus", "uid": DS_UID},
22 |                 "targets": [{"expr": "last_over_time(public_ip_info{type='host'}[24h])", "legendFormat": "{{ip}}", "refId": "A"}],
   |                                                                                                                         ^^^^^^^^^^
23 |                 "options": {"textMode": "name", "reduceOptions": {"calcs": ["lastNotNull"]}},
24 |                 "fieldConfig": {"defaults": {"displayName": "${__field.labels.ip}", "color": {"mode": "fixed", "fixedColor": "blue"}}}
   |

E501 Line too long (134 > 120)
  --> infra/monitoring/deploy_v2_clean.py:24:121
   |
22 |                 "targets": [{"expr": "last_over_time(public_ip_info{type='host'}[24h])", "legendFormat": "{{ip}}", "refId": "A"}],
23 |                 "options": {"textMode": "name", "reduceOptions": {"calcs": ["lastNotNull"]}},
24 |                 "fieldConfig": {"defaults": {"displayName": "${__field.labels.ip}", "color": {"mode": "fixed", "fixedColor": "blue"}}}
   |                                                                                                                         ^^^^^^^^^^^^^^
25 |             },
26 |             {
   |

E501 Line too long (122 > 120)
  --> infra/monitoring/deploy_v2_clean.py:31:121
   |
29 | â€¦     "gridPos": {"h": 4, "w": 12, "x": 12, "y": 0},
30 | â€¦     "datasource": {"type": "prometheus", "uid": DS_UID},
31 | â€¦     "targets": [{"expr": "topk(1, vpn_public_ip_info{ip!='Error'})", "legendFormat": "{{ip}}", "refId": "A"}],
   |                                                                                                               ^^
32 | â€¦     "options": {"textMode": "name", "reduceOptions": {"calcs": ["lastNotNull"]}},
33 | â€¦     "fieldConfig": {"defaults": {"displayName": "${__field.labels.ip}", "color": {"mode": "fixed", "fixedColor": "purple"}}}
   |

E501 Line too long (136 > 120)
  --> infra/monitoring/deploy_v2_clean.py:33:121
   |
31 | â€¦fo{ip!='Error'})", "legendFormat": "{{ip}}", "refId": "A"}],
32 | â€¦": {"calcs": ["lastNotNull"]}},
33 | â€¦{__field.labels.ip}", "color": {"mode": "fixed", "fixedColor": "purple"}}}
   |                                                            ^^^^^^^^^^^^^^^^
34 | â€¦
35 | â€¦
   |

E501 Line too long (211 > 120)
  --> infra/monitoring/deploy_v2_clean.py:42:121
   |
40 | â€¦
41 | â€¦d": "A"}],
42 | â€¦"steps": [{"color": "green", "value": None}, {"color": "orange", "value": 65}, {"color": "red", "value": 75}]}}}
   |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
43 | â€¦
44 | â€¦
   |

E501 Line too long (131 > 120)
  --> infra/monitoring/deploy_v2_clean.py:49:121
   |
47 | â€¦         "gridPos": {"h": 6, "w": 8, "x": 8, "y": 4},
48 | â€¦         "datasource": {"type": "prometheus", "uid": DS_UID},
49 | â€¦         "targets": [{"expr": "100 - ((node_memory_MemAvailable_bytes * 100) / node_memory_MemTotal_bytes)", "refId": "A"}],
   |                                                                                                                   ^^^^^^^^^^^
50 | â€¦         "fieldConfig": {"defaults": {"unit": "percent", "min": 0, "max": 100, "thresholds": {"mode": "absolute", "steps": [{"color":â€¦
51 | â€¦     },
   |

E501 Line too long (233 > 120)
  --> infra/monitoring/deploy_v2_clean.py:50:121
   |
48 | â€¦
49 | â€¦es)", "refId": "A"}],
50 | â€¦absolute", "steps": [{"color": "green", "value": None}, {"color": "orange", "value": 80}, {"color": "red", "value": 90}]}}}
   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
51 | â€¦
52 | â€¦
   |

E501 Line too long (184 > 120)
  --> infra/monitoring/deploy_v2_clean.py:57:121
   |
55 | â€¦
56 | â€¦
57 | â€¦al{name!=''}[1m])) by (name) * 100)", "legendFormat": "{{name}}", "instant": True, "refId": "A"}],
   |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
58 | â€¦,
59 | â€¦
   |

E501 Line too long (138 > 120)
  --> infra/monitoring/deploy_v2_clean.py:68:121
   |
66 | â€¦     "datasource": {"type": "prometheus", "uid": DS_UID},
67 | â€¦     "targets": [
68 | â€¦         {"expr": "rate(container_network_receive_bytes_total{name='gluetun'}[5m])", "legendFormat": "Download", "refId": "A"},
   |                                                                                                               ^^^^^^^^^^^^^^^^^^
69 | â€¦         {"expr": "rate(container_network_transmit_bytes_total{name='gluetun'}[5m])", "legendFormat": "Upload", "refId": "B"}
70 | â€¦     ],
   |

E501 Line too long (136 > 120)
  --> infra/monitoring/deploy_v2_clean.py:69:121
   |
67 | â€¦     "targets": [
68 | â€¦         {"expr": "rate(container_network_receive_bytes_total{name='gluetun'}[5m])", "legendFormat": "Download", "refId": "A"},
69 | â€¦         {"expr": "rate(container_network_transmit_bytes_total{name='gluetun'}[5m])", "legendFormat": "Upload", "refId": "B"}
   |                                                                                                               ^^^^^^^^^^^^^^^^
70 | â€¦     ],
71 | â€¦     "fieldConfig": {"defaults": {"unit": "binBps"}}
   |

E501 Line too long (162 > 120)
  --> infra/monitoring/deploy_v2_clean.py:80:121
   |
78 | â€¦
79 | â€¦
80 | â€¦node_filesystem_avail_bytes{mountpoint='/'}", "legendFormat": "UtilisÃ©", "refId": "A"},
   |                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
81 | â€¦"legendFormat": "Total", "refId": "B"}
82 | â€¦
   |

E501 Line too long (184 > 120)
  --> infra/monitoring/deploy_v2_clean.py:92:121
   |
90 | â€¦
91 | â€¦
92 | â€¦node_filesystem_avail_bytes{mountpoint='/mnt/externe'}", "legendFormat": "UtilisÃ©", "refId": "A"},
   |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
93 | â€¦"legendFormat": "Total", "refId": "B"}
94 | â€¦
   |

E501 Line too long (124 > 120)
  --> infra/monitoring/deploy_v2_clean.py:93:121
   |
91 | â€¦     "targets": [
92 | â€¦         {"expr": "node_filesystem_size_bytes{mountpoint='/mnt/externe'} - node_filesystem_avail_bytes{mountpoint='/mnt/externe'}", "â€¦
93 | â€¦         {"expr": "node_filesystem_size_bytes{mountpoint='/mnt/externe'}", "legendFormat": "Total", "refId": "B"}
   |                                                                                                               ^^^^
94 | â€¦     ],
95 | â€¦     "options": {"textMode": "value_and_name", "colorMode": "background", "graphMode": "area"},
   |

E501 Line too long (128 > 120)
  --> infra/monitoring/redesign_storage_clarity.py:17:121
   |
15 |     "targets": [
16 |         { 
17 |             "expr": "100 - ((node_filesystem_avail_bytes{mountpoint='/'} * 100) / node_filesystem_size_bytes{mountpoint='/'})", 
   |                                                                                                                         ^^^^^^^^
18 |             "legendFormat": "NVME (/) - Libre : {{value}}", 
19 |             "refId": "A" 
   |

E501 Line too long (150 > 120)
  --> infra/monitoring/redesign_storage_clarity.py:22:121
   |
20 | â€¦
21 | â€¦
22 | â€¦/mnt/externe'} * 100) / node_filesystem_size_bytes{mountpoint='/mnt/externe'})", 
   |                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
23 | â€¦ 
24 | â€¦
   |

E501 Line too long (176 > 120)
  --> infra/monitoring/redesign_storage_clarity.py:62:121
   |
60 | â€¦
61 | â€¦
62 | â€¦ilesystem_size_bytes{mountpoint='/'})", "legendFormat": "NVME Saturation (%)", "refId": "A" },
   |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
63 | â€¦ Libre (Go)", "refId": "B" },
64 | â€¦0) / node_filesystem_size_bytes{mountpoint='/mnt/externe'})", "legendFormat": "HDD Saturation (%)", "refId": "C" },
   |

E501 Line too long (197 > 120)
  --> infra/monitoring/redesign_storage_clarity.py:64:121
   |
62 | â€¦size_bytes{mountpoint='/'})", "legendFormat": "NVME Saturation (%)", "refId": "A" },
63 | â€¦)", "refId": "B" },
64 | â€¦filesystem_size_bytes{mountpoint='/mnt/externe'})", "legendFormat": "HDD Saturation (%)", "refId": "C" },
   |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
65 | â€¦ Libre (Go)", "refId": "D" }
66 | â€¦
   |

E501 Line too long (143 > 120)
  --> infra/monitoring/redesign_storage_ratio_stat.py:17:121
   |
15 | â€¦
16 | â€¦
17 | â€¦'{mountpoint}'}} - node_filesystem_avail_bytes{{mountpoint='{mountpoint}'}}", 
   |                                                         ^^^^^^^^^^^^^^^^^^^^^^^
18 | â€¦
19 | â€¦
   |

E501 Line too long (159 > 120)
  --> infra/monitoring/redesign_storage_ratio_stat.py:27:121
   |
25 | â€¦
26 | â€¦
27 | â€¦='{mountpoint}'}} * 100) / node_filesystem_size_bytes{{mountpoint='{mountpoint}'}})", 
   |                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
28 | â€¦
29 | â€¦
   |

E501 Line too long (127 > 120)
  --> infra/monitoring/redesign_storage_ratio_stat.py:40:121
   |
38 |                     "steps": [
39 |                         { "color": "green", "value": None },
40 |                         { "color": "yellow", "value": 70 * 1024*1024*1024 }, # Ce sera Ã©crasÃ© par l'override pour la saturation
   |                                                                                                                         ^^^^^^^
41 |                         { "color": "red", "value": 90 * 1024*1024*1024 }
42 |                     ]
   |

E501 Line too long (151 > 120)
  --> infra/monitoring/refactor_dashboard.py:15:121
   |
13 | â€¦
14 | â€¦
15 | â€¦otal{name!=''}[1m])) by (name) * 100)", "legendFormat": "{{name}}", "refId": "A" }
   |                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
16 | â€¦
17 | â€¦
   |

E501 Line too long (145 > 120)
  --> infra/monitoring/surgical_dashboard_update.py:83:121
   |
81 | â€¦
82 | â€¦
83 | â€¦"nvme.*|sd.*"}[5m])) by (device)', "legendFormat": "{{device}}", "refId": "A" }
   |                                                        ^^^^^^^^^^^^^^^^^^^^^^^^^
84 | â€¦
85 | â€¦
   |

E501 Line too long (124 > 120)
  --> infra/monitoring/update_ips.py:17:121
   |
15 |     try:
16 |         # Use wget as curl is missing in gluetun
17 |         vpn_ip = subprocess.check_output("docker exec gluetun wget -qO- https://api.ipify.org", shell=True).decode().strip()
   |                                                                                                                         ^^^^
18 |     except:
19 |         vpn_ip = "Unknown"
   |

E501 Line too long (128 > 120)
  --> infra/monitoring/update_storage_master.py:21:121
   |
19 |     "targets": [
20 |         { 
21 |             "expr": "100 - ((node_filesystem_avail_bytes{mountpoint='/'} * 100) / node_filesystem_size_bytes{mountpoint='/'})", 
   |                                                                                                                         ^^^^^^^^
22 |             "legendFormat": "NVME (System /)", 
23 |             "refId": "A" 
   |

E501 Line too long (150 > 120)
  --> infra/monitoring/update_storage_master.py:26:121
   |
24 | â€¦
25 | â€¦
26 | â€¦/mnt/externe'} * 100) / node_filesystem_size_bytes{mountpoint='/mnt/externe'})", 
   |                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
27 | â€¦
28 | â€¦
   |

E501 Line too long (180 > 120)
  --> infra/monitoring/update_storage_ratio.py:17:121
   |
15 | â€¦
16 | â€¦
17 | â€¦_filesystem_size_bytes{mountpoint='/'})", "legendFormat": "NVME Saturation (%)", "refId": "A" },
   |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
18 | â€¦l_bytes{mountpoint='/'}", "legendFormat": "NVME UtilisÃ©", "refId": "B" },
19 | â€¦E Total", "refId": "C" },
   |

E501 Line too long (157 > 120)
  --> infra/monitoring/update_storage_ratio.py:18:121
   |
16 | â€¦
17 | â€¦ 100) / node_filesystem_size_bytes{mountpoint='/'})", "legendFormat": "NVME Saturation (%)", "refId": "A" },
18 | â€¦esystem_avail_bytes{mountpoint='/'}", "legendFormat": "NVME UtilisÃ©", "refId": "B" },
   |                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
19 | â€¦ormat": "NVME Total", "refId": "C" },
20 | â€¦
   |

E501 Line too long (201 > 120)
  --> infra/monitoring/update_storage_ratio.py:21:121
   |
19 | â€¦"refId": "C" },
20 | â€¦
21 | â€¦e_filesystem_size_bytes{mountpoint='/mnt/externe'})", "legendFormat": "HDD Saturation (%)", "refId": "D" },
   |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
22 | â€¦il_bytes{mountpoint='/mnt/externe'}", "legendFormat": "HDD UtilisÃ©", "refId": "E" },
23 | â€¦D Total", "refId": "F" }
   |

E501 Line too long (178 > 120)
  --> infra/monitoring/update_storage_ratio.py:22:121
   |
20 | â€¦
21 | â€¦ 100) / node_filesystem_size_bytes{mountpoint='/mnt/externe'})", "legendFormat": "HDD Saturation (%)", "refId": "D" },
22 | â€¦esystem_avail_bytes{mountpoint='/mnt/externe'}", "legendFormat": "HDD UtilisÃ©", "refId": "E" },
   |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
23 | â€¦ormat": "HDD Total", "refId": "F" }
24 | â€¦
   |

E501 Line too long (132 > 120)
  --> infra/monitoring/update_storage_units.py:18:121
   |
16 |             # NVME - Percentage
17 |             { 
18 |                 "expr": "100 - ((node_filesystem_avail_bytes{mountpoint='/'} * 100) / node_filesystem_size_bytes{mountpoint='/'})", 
   |                                                                                                                         ^^^^^^^^^^^^
19 |                 "legendFormat": "NVME (%)", 
20 |                 "refId": "A" 
   |

E501 Line too long (154 > 120)
  --> infra/monitoring/update_storage_units.py:30:121
   |
28 | â€¦
29 | â€¦
30 | â€¦='/mnt/externe'} * 100) / node_filesystem_size_bytes{mountpoint='/mnt/externe'})", 
   |                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
31 | â€¦
32 | â€¦
   |

E501 Line too long (137 > 120)
   --> infra/pi_bot.py:108:121
    |
106 | â€¦tem['title']} ({item.get('year', '')})\n"
107 | â€¦
108 | â€¦a=f"m_sel:{category}:{items[i-1]['id']}") for i in range(1, len(items)+1)]
    |                                                           ^^^^^^^^^^^^^^^^^
109 | â€¦
110 | â€¦
    |

E501 Line too long (204 > 120)
   --> infra/pi_bot.py:132:121
    |
130 | â€¦"}}"
131 | â€¦
132 | â€¦{"model": "gpt-4o-mini", "messages": [{"role": "user", "content": prompt}], "temperature": 0.1}, timeout=10)
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
133 | â€¦
134 | â€¦
    |

E501 Line too long (133 > 120)
   --> infra/pi_bot.py:178:120
    |
176 | â€¦lback_data=f"m_act:share:{d[1]}:{d[2]}"),
177 | â€¦back_data=f"m_pag:{d[1]}:0"))
178 | â€¦*", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                                            ^^^^^^^^^^^^^
179 | â€¦.id, "ğŸ“¥ AjoutÃ©.")
180 | â€¦id, f"Action {d[1]} enregistrÃ©e.", show_alert=True)
    |

E501 Line too long (284 > 120)
   --> infra/pi_bot.py:188:119
    |
186 | â€¦
187 | â€¦
188 | â€¦ateurs", callback_data="adm:users"), InlineKeyboardButton("ğŸ§¹ Nettoyage SSD", callback_data="adm:clean"), InlineKeyboardButton("ğŸ”™ Fermer", callback_data="adm:close"))
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
189 | â€¦y_markup=markup)
190 | â€¦
    |

E501 Line too long (130 > 120)
   --> infra/pi_bot.py:189:122
    |
187 | â€¦         markup = InlineKeyboardMarkup(row_width=1)
188 | â€¦         markup.add(InlineKeyboardButton("ğŸ“‚ Partage", callback_data="adm:share"), InlineKeyboardButton("ğŸ‘¥ Utilisateurs", callback_d â€¦
189 | â€¦         bot.edit_message_text("ğŸ› ï¸ **Menu Administrateur**", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                                                                                                       ^^^^^^^^^^
190 | â€¦     elif cmd == "share":
191 | â€¦         markup = InlineKeyboardMarkup(row_width=1)
    |

E501 Line too long (238 > 120)
   --> infra/pi_bot.py:192:120
    |
190 | â€¦
191 | â€¦
192 | â€¦Button("âŒ Contenu non possÃ©dÃ©", callback_data="adm:share_new"), InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:main"))
    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
193 | â€¦y_markup=markup)
194 | â€¦
    |

E501 Line too long (130 > 120)
   --> infra/pi_bot.py:193:120
    |
191 | â€¦         markup = InlineKeyboardMarkup(row_width=1)
192 | â€¦         markup.add(InlineKeyboardButton("âœ… Contenu possÃ©dÃ©", callback_data="adm:share_owned"), InlineKeyboardButton("âŒ Contenu non â€¦
193 | â€¦         bot.edit_message_text("ğŸ“‚ **Gestion du Partage**", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                                                                                                       ^^^^^^^^^^
194 | â€¦     elif cmd == "users":
195 | â€¦         markup = InlineKeyboardMarkup(row_width=1)
    |

E501 Line too long (284 > 120)
   --> infra/pi_bot.py:196:119
    |
194 | â€¦
195 | â€¦
196 | â€¦outer", callback_data="adm:users_add"), InlineKeyboardButton("âŒ RÃ©voquer", callback_data="adm:users_rev"), InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:main"))
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
197 | â€¦reply_markup=markup)
198 | â€¦
    |

E501 Line too long (136 > 120)
   --> infra/pi_bot.py:197:120
    |
195 | â€¦
196 | â€¦ck_data="adm:users_list"), InlineKeyboardButton("â• Ajouter", callback_data="adm:users_add"), InlineKeyboardButton("âŒ RÃ©voquer", cal â€¦
197 | â€¦s**", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                                           ^^^^^^^^^^^^^^^^
198 | â€¦
199 | â€¦eurs :**\n\n" + "\n".join([f"â€¢ `{u}`" for u in users])
    |

E501 Line too long (211 > 120)
   --> infra/pi_bot.py:200:121
    |
198 | â€¦
199 | â€¦for u in users])
200 | â€¦InlineKeyboardMarkup().add(InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:users")), parse_mode='Markdown')
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
201 | â€¦
202 | â€¦
    |

E501 Line too long (135 > 120)
   --> infra/pi_bot.py:210:121
    |
208 | â€¦back_data=f"adm:users_del:{u}"))
209 | â€¦ack_data="adm:users"))
210 | â€¦r :", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                                            ^^^^^^^^^^^^^^^
211 | â€¦
212 | â€¦
    |

E501 Line too long (158 > 120)
   --> infra/pi_bot.py:214:121
    |
212 | â€¦
213 | â€¦swer_callback_query(call.id, "âœ… RÃ©voquÃ©.")
214 | â€¦from_user, message=call.message, data="adm:users", chat_instance=call.chat_instance))
    |                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
215 | â€¦
216 | â€¦
    |

E501 Line too long (230 > 120)
   --> infra/pi_bot.py:217:119
    |
215 | â€¦
216 | â€¦
217 | â€¦Button("ğŸ“º SÃ©ries", callback_data="adm:list_owned:series"), InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:share"))
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
218 | â€¦markup)
219 | â€¦
    |

E501 Line too long (123 > 120)
   --> infra/pi_bot.py:226:121
    |
224 |     if d[0] == "sel":
225 |         try:
226 |             with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[2])]
    |                                                                                                                         ^^^
227 |             markup = InlineKeyboardMarkup(row_width=2)
228 |             act = "arc" if item['is_nvme'] else "res"
    |

E501 Line too long (181 > 120)
   --> infra/pi_bot.py:229:120
    |
227 | â€¦
228 | â€¦
229 | â€¦}:{d[1]}:{d[2]}"), InlineKeyboardButton("ğŸ—‘ï¸ Supprimer", callback_data=f"act:del:{d[1]}:{d[2]}"))
    |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
230 | â€¦artager", callback_data=f"share_exec:{d[2]}"))
231 | â€¦
    |

E501 Line too long (132 > 120)
   --> infra/pi_bot.py:230:120
    |
228 | â€¦     act = "arc" if item['is_nvme'] else "res"
229 | â€¦     markup.add(InlineKeyboardButton("ğŸ“¦ Archiv/Rest", callback_data=f"act:{act}:{d[1]}:{d[2]}"), InlineKeyboardButton("ğŸ—‘ï¸ Supprimer"â€¦
230 | â€¦     if call.from_user.id == SUPER_ADMIN: markup.add(InlineKeyboardButton("ğŸ”— Partager", callback_data=f"share_exec:{d[2]}"))
    |                                                                                                                   ^^^^^^^^^^^^
231 | â€¦     markup.add(InlineKeyboardButton("âŒ Annuler", callback_data="cancel"))
232 | â€¦     bot.edit_message_text(f"ğŸ› ï¸ {item['name']}", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |

E501 Line too long (122 > 120)
   --> infra/pi_bot.py:232:122
    |
230 |             if call.from_user.id == SUPER_ADMIN: markup.add(InlineKeyboardButton("ğŸ”— Partager", callback_data=f"share_exec:{d[2]}"))
231 |             markup.add(InlineKeyboardButton("âŒ Annuler", callback_data="cancel"))
232 |             bot.edit_message_text(f"ğŸ› ï¸ {item['name']}", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                                                                                                         ^^
233 |         except: bot.answer_callback_query(call.id, "âŒ Session expirÃ©e.")
234 |     elif d[0] == "act":
    |

E501 Line too long (123 > 120)
   --> infra/pi_bot.py:236:121
    |
234 |     elif d[0] == "act":
235 |         try:
236 |             with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[3])]
    |                                                                                                                         ^^^
237 |             res = subprocess.run(["python3", SCRIPT_PATH, "action", d[1], d[2], item['path']], capture_output=True, text=True)
238 |             bot.edit_message_text(f"âœ… {item['name']}: {res.stdout.strip()}", call.message.chat.id, call.message.message_id)
    |

E501 Line too long (126 > 120)
   --> infra/pi_bot.py:237:121
    |
235 |         try:
236 |             with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[3])]
237 |             res = subprocess.run(["python3", SCRIPT_PATH, "action", d[1], d[2], item['path']], capture_output=True, text=True)
    |                                                                                                                         ^^^^^^
238 |             bot.edit_message_text(f"âœ… {item['name']}: {res.stdout.strip()}", call.message.chat.id, call.message.message_id)
239 |         except: bot.answer_callback_query(call.id, "âŒ Erreur.")
    |

E501 Line too long (124 > 120)
   --> infra/pi_bot.py:238:120
    |
236 |             with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[3])]
237 |             res = subprocess.run(["python3", SCRIPT_PATH, "action", d[1], d[2], item['path']], capture_output=True, text=True)
238 |             bot.edit_message_text(f"âœ… {item['name']}: {res.stdout.strip()}", call.message.chat.id, call.message.message_id)
    |                                                                                                                         ^^^^
239 |         except: bot.answer_callback_query(call.id, "âŒ Erreur.")
240 |     elif d[0] == "share_exec":
    |

E501 Line too long (123 > 120)
   --> infra/pi_bot.py:242:121
    |
240 |     elif d[0] == "share_exec":
241 |         try:
242 |             with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[1])]
    |                                                                                                                         ^^^
243 |             src = pathlib.Path(item['path']); subtitles = list(src.parent.glob(f"{src.stem}*.srt"))
244 |             if subtitles:
    |

E501 Line too long (241 > 120)
   --> infra/pi_bot.py:246:120
    |
244 | â€¦
245 | â€¦
246 | â€¦ardButton("ğŸ¬ Remux", callback_data=f"share_final:{d[1]}:remux"), InlineKeyboardButton("âŒ Annuler", callback_data="cancel"))
    |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
247 | â€¦.chat.id, call.message.message_id, reply_markup=markup)
248 | â€¦a=f"share_final:{d[1]}:link", chat_instance=call.chat_instance))
    |

E501 Line too long (171 > 120)
   --> infra/pi_bot.py:247:120
    |
245 | â€¦
246 | â€¦re_final:{d[1]}:link"), InlineKeyboardButton("ğŸ¬ Remux", callback_data=f"share_final:{d[1]}:remux"), InlineKeyboardButton("âŒ Annuler â€¦
247 | â€¦sous-titres trouvÃ©s.", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
248 | â€¦rom_user, message=call.message, data=f"share_final:{d[1]}:link", chat_instance=call.chat_instance))
249 | â€¦
    |

E501 Line too long (179 > 120)
   --> infra/pi_bot.py:248:121
    |
246 | â€¦inal:{d[1]}:link"), InlineKeyboardButton("ğŸ¬ Remux", callback_data=f"share_final:{d[1]}:remux"), InlineKeyboardButton("âŒ Annuler", c â€¦
247 | â€¦-titres trouvÃ©s.", call.message.chat.id, call.message.message_id, reply_markup=markup)
248 | â€¦user, message=call.message, data=f"share_final:{d[1]}:link", chat_instance=call.chat_instance))
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
249 | â€¦
250 | â€¦
    |

E501 Line too long (123 > 120)
   --> infra/pi_bot.py:252:121
    |
250 |     elif d[0] == "share_final":
251 |         try:
252 |             with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[1])]
    |                                                                                                                         ^^^
253 |             remux_opt = True if d[2] == "remux" else False
254 |             bot.edit_message_text("â³ Traitement...", call.message.chat.id, call.message.message_id)
    |

E501 Line too long (144 > 120)
  --> infra/pi_bot_debug.py:43:122
   |
41 | â€¦
42 | â€¦
43 | â€¦entative d'accÃ¨s au menu admin par {m.from_user.id} (@{m.from_user.username})")
   |                                                         ^^^^^^^^^^^^^^^^^^^^^^^^
44 | â€¦
45 | â€¦
   |

E501 Line too long (280 > 120)
  --> infra/pi_bot_debug.py:64:119
   |
62 | â€¦
63 | â€¦
64 | â€¦rs", callback_data="adm:users"), InlineKeyboardButton("ğŸ§¹ Nettoyage SSD", callback_data="adm:clean"), InlineKeyboardButton("ğŸ”™ Fermer", callback_data="adm:close"))
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
65 | â€¦rkup=markup)
   |

E501 Line too long (126 > 120)
  --> infra/pi_bot_debug.py:65:122
   |
63 |         markup = InlineKeyboardMarkup(row_width=1)
64 |         markup.add(InlineKeyboardButton("ğŸ“‚ Partage", callback_data="adm:share"), InlineKeyboardButton("ğŸ‘¥ Utilisateurs", callback_data â€¦
65 |         bot.edit_message_text("ğŸ› ï¸ **Menu Administrateur**", call.message.chat.id, call.message.message_id, reply_markup=markup)
   |                                                                                                                         ^^^^^^
66 |     
67 |     elif cmd == "share":
   |

E501 Line too long (234 > 120)
  --> infra/pi_bot_debug.py:69:119
   |
67 | â€¦
68 | â€¦
69 | â€¦tton("âŒ Contenu non possÃ©dÃ©", callback_data="adm:share_new"), InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:main"))
   |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
70 | â€¦markup=markup)
   |

E501 Line too long (126 > 120)
  --> infra/pi_bot_debug.py:70:120
   |
68 |         markup = InlineKeyboardMarkup(row_width=1)
69 |         markup.add(InlineKeyboardButton("âœ… Contenu possÃ©dÃ©", callback_data="adm:share_owned"), InlineKeyboardButton("âŒ Contenu non po â€¦
70 |         bot.edit_message_text("ğŸ“‚ **Gestion du Partage**", call.message.chat.id, call.message.message_id, reply_markup=markup)
   |                                                                                                                         ^^^^^^
71 |     
72 |     elif cmd == "users":
   |

E501 Line too long (132 > 120)
  --> infra/pi_bot_debug.py:78:120
   |
76 |                    InlineKeyboardButton("âŒ RÃ©voquer un accÃ¨s", callback_data="adm:users_rev"),
77 |                    InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:main"))
78 |         bot.edit_message_text("ğŸ‘¥ **Gestion des Utilisateurs**", call.message.chat.id, call.message.message_id, reply_markup=markup)
   |                                                                                                                         ^^^^^^^^^^^^
79 |     
80 |     elif cmd == "users_list":
   |

E501 Line too long (126 > 120)
  --> infra/pi_bot_debug.py:84:121
   |
82 |         text = "ğŸ“‹ **Utilisateurs autorisÃ©s :**\n\n" + "\n".join([f"â€¢ `{u}`" for u in users])
83 |         markup = InlineKeyboardMarkup().add(InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:users"))
84 |         bot.edit_message_text(text, call.message.chat.id, call.message.message_id, reply_markup=markup, parse_mode='Markdown')
   |                                                                                                                         ^^^^^^
85 |     
86 |     elif cmd == "users_add":
   |

E501 Line too long (131 > 120)
  --> infra/pi_bot_debug.py:97:121
   |
95 |             markup.add(InlineKeyboardButton(f"âŒ {u}", callback_data=f"adm:users_del:{u}"))
96 |         markup.add(InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:users"))
97 |         bot.edit_message_text("SÃ©lectionnez l'ID Ã  rÃ©voquer :", call.message.chat.id, call.message.message_id, reply_markup=markup)
   |                                                                                                                         ^^^^^^^^^^^
98 |     
99 |     elif cmd == "users_del":
   |

E501 Line too long (226 > 120)
   --> infra/pi_bot_debug.py:110:119
    |
108 | â€¦
109 | â€¦
110 | â€¦tton("ğŸ“º SÃ©ries", callback_data="adm:list_owned:series"), InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:share"))
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
111 | â€¦ reply_markup=markup)
    |

E501 Line too long (128 > 120)
   --> infra/pi_bot_debug.py:111:121
    |
109 |         markup = InlineKeyboardMarkup(row_width=2)
110 |         markup.add(InlineKeyboardButton("ğŸ¬ Films", callback_data="adm:list_owned:movies"), InlineKeyboardButton("ğŸ“º SÃ©ries", callback â€¦
111 |         bot.edit_message_text("SÃ©lectionnez la catÃ©gorie :", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                                                                                                         ^^^^^^^^
112 |     
113 |     elif cmd == "list_owned":
    |

E501 Line too long (234 > 120)
   --> infra/pi_bot_debug.py:117:120
    |
116 | â€¦
117 | â€¦e vous souhaitez rechercher et partager. L'IA s'occupera de la recherche.", call.message.chat.id, call.message.message_id)
    |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
118 | â€¦
119 | â€¦
    |

E501 Line too long (145 > 120)
   --> infra/pi_bot_debug.py:120:120
    |
119 | â€¦
120 | â€¦Ã© en cours de dÃ©veloppement.", call.message.chat.id, call.message.message_id)
    |                                                      ^^^^^^^^^^^^^^^^^^^^^^^^^
121 | â€¦
122 | â€¦all.message.message_id)
    |

E501 Line too long (122 > 120)
   --> infra/pi_bot_debug.py:192:121
    |
190 |             bot.answer_callback_query(call.id, "âŒ Session expirÃ©e.")
191 |             return
192 |         res = subprocess.run(["python3", SCRIPT_PATH, "action", d[1], d[2], item['path']], capture_output=True, text=True)
    |                                                                                                                         ^^
193 |         bot.edit_message_text(f"âœ… {item['name']}: {res.stdout.strip()}", call.message.chat.id, call.message.message_id)
194 |     elif d[0] == "share_exec":
    |

E501 Line too long (174 > 120)
   --> infra/pi_bot_debug.py:212:120
    |
210 | â€¦data=f"share_final:{d[1]}:remux"),
211 | â€¦
212 | â€¦us-titre(s) trouvÃ©(s).", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
213 | â€¦
214 | â€¦
    |

E501 Line too long (180 > 120)
   --> infra/pi_bot_debug.py:215:121
    |
213 | â€¦
214 | â€¦
215 | â€¦_user, message=call.message, data=f"share_final:{d[1]}:link", chat_instance=call.chat_instance))
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
216 | â€¦
217 | â€¦
    |

E501 Line too long (150 > 120)
   --> infra/pi_bot_debug.py:227:119
    |
226 | â€¦
227 | â€¦ else "â³ GÃ©nÃ©ration du lien...", call.message.chat.id, call.message.message_id)
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
228 | â€¦
229 | â€¦remux_opt)
    |

E501 Line too long (151 > 120)
   --> infra/pi_bot_debug.py:233:118
    |
231 | â€¦
232 | â€¦
233 | â€¦dÃ©o : `{data['video']}`\n\nâœ… Les sous-titres ont Ã©tÃ© intÃ©grÃ©s au fichier MKV."
    |                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
234 | â€¦
235 | â€¦{data['video']}`\n"
    |

E501 Line too long (133 > 120)
   --> infra/pi_bot_debug.py:280:121
    |
279 | â€¦     try:
280 | â€¦         r_add = requests.post(f"{cfg['url']}/api/v3/{endpoint}", headers={"X-Api-Key": cfg['key']}, json=payload, timeout=10)
    |                                                                                                                   ^^^^^^^^^^^^^
281 | â€¦         if r_add.status_code in [200, 201]:
282 | â€¦             bot.edit_message_text(f"ğŸ“¥ **AjoutÃ© Ã  la file d'attente :** `{dl_data['found_title']} ({dl_data['year']})`\nLe tÃ©lÃ©chargâ€¦
    |

E501 Line too long (229 > 120)
   --> infra/pi_bot_debug.py:282:120
    |
280 | â€¦son=payload, timeout=10)
281 | â€¦
282 | â€¦_data['year']})`\nLe tÃ©lÃ©chargement va dÃ©buter.", call.message.chat.id, call.message.message_id, parse_mode='Markdown')
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
283 | â€¦
284 | â€¦
    |

E501 Line too long (142 > 120)
   --> infra/pi_bot_debug.py:285:120
    |
283 | â€¦
284 | â€¦
285 | â€¦rreur {r_add.status_code}).", call.message.chat.id, call.message.message_id)
    |                                                        ^^^^^^^^^^^^^^^^^^^^^^
286 | â€¦
287 | â€¦
    |

E501 Line too long (131 > 120)
   --> infra/pi_bot_debug.py:288:120
    |
286 |             except Exception as e:
287 |                 logging.error(f"Arr API Error: {e}")
288 |                 bot.edit_message_text("âŒ Erreur de communication avec le serveur.", call.message.chat.id, call.message.message_id)
    |                                                                                                                         ^^^^^^^^^^^
289 |
290 | @bot.message_handler(commands=['status'])
    |

E501 Line too long (154 > 120)
   --> infra/pi_bot_debug.py:344:121
    |
342 | â€¦
343 | â€¦
344 | â€¦r'\bx26[45]\b', r'\bBluRay\b', r'\bWEB-DL\b', r'\bCOMPLETE\b', r'\bSeason\s*\d*\b']
    |                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
345 | â€¦
346 | â€¦CASE)
    |

E501 Line too long (453 > 120)
   --> infra/pi_bot_debug.py:376:121
    |
374 | â€¦
375 | â€¦
376 | â€¦arsing :\n'S01E01' ou 'S1E1' -> saison: 1, episode: 1\n'Saison 2' -> saison: 2, episode: null\nSi c'est un film ou incertain -> type: 'film', saison/episode: null\nSi c'est une sÃ©rie -> type: 'serie'\n\nRenvoie UNIQUEMENT un JSON pur : {{\"titre\": \"str\", \"saison\": \"int|null\", \"episode\": \"int|null\", \"type\": \"serie|film\"}}"
    |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
377 | â€¦
378 | â€¦
    |

E501 Line too long (124 > 120)
   --> infra/pi_bot_debug.py:473:120
    |
471 |         return
472 |
473 |     bot.send_message(m.chat.id, f"ğŸ” **Recherche en cours :** `{titre}` ({type_media.capitalize()})", parse_mode='Markdown')
    |                                                                                                                         ^^^^
474 |
475 |     # 2. Phase de Routage & VÃ©rification de DisponibilitÃ© locale
    |

E501 Line too long (133 > 120)
   --> infra/pi_bot_debug.py:491:121
    |
489 |     try:
490 |         # Recherche API Sonarr/Radarr
491 |         r_lookup = requests.get(f"{cfg['url']}/api/v3/{endpoint}/lookup?term={titre}", headers={"X-Api-Key": cfg['key']}, timeout=10)
    |                                                                                                                         ^^^^^^^^^^^^^
492 |         results = r_lookup.json()
    |

E501 Line too long (172 > 120)
   --> infra/pi_bot_debug.py:508:120
    |
507 | â€¦
508 | â€¦ssÃ©dÃ© ou en cours de tÃ©lÃ©chargement sur {'Radarr' if type_media == 'film' else 'Sonarr'}.")
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
509 | â€¦
    |

E501 Line too long (124 > 120)
  --> scripts/config.py:20:121
   |
18 | USERS_FILE = get_env("USERS_FILE", "/app/users.json" if DOCKER_MODE else os.path.join(BASE_DIR, "users.json"))
19 | CONTEXT_FILE = get_env("CONTEXT_FILE", "/tmp/bot_context.json")
20 | SCRIPT_PATH = get_env("SCRIPT_PATH", "/app/media_manager.py" if DOCKER_MODE else os.path.join(BASE_DIR, "media_manager.py"))
   |                                                                                                                         ^^^^
21 |
22 | # --- Services Networking ---
   |

E501 Line too long (308 > 120)
  --> scripts/handlers_admin.py:56:120
   |
54 | â€¦
55 | â€¦
56 | â€¦on("ğŸ‘¥ Utilisateurs", callback_data="adm:users"), types.InlineKeyboardButton("ğŸ§¹ Nettoyage SSD", callback_data="adm:clean"), types.InlineKeyboardButton("ğŸ”™ Fermer", callback_data="adm:close"))
   |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
57 | â€¦y_markup=markup)
58 | â€¦
   |

E501 Line too long (130 > 120)
  --> scripts/handlers_admin.py:57:122
   |
55 | â€¦         markup = types.InlineKeyboardMarkup(row_width=1)
56 | â€¦         markup.add(types.InlineKeyboardButton("ğŸ“‚ Partage", callback_data="adm:share"), types.InlineKeyboardButton("ğŸ‘¥ Utilisateurs", â€¦
57 | â€¦         bot.edit_message_text("ğŸ› ï¸ **Menu Administrateur**", call.message.chat.id, call.message.message_id, reply_markup=markup)
   |                                                                                                                       ^^^^^^^^^^
58 | â€¦     elif cmd == "share":
59 | â€¦         markup = types.InlineKeyboardMarkup(row_width=1)
   |

E501 Line too long (256 > 120)
  --> scripts/handlers_admin.py:60:120
   |
58 | â€¦
59 | â€¦
60 | â€¦neKeyboardButton("âŒ Contenu non possÃ©dÃ©", callback_data="adm:share_new"), types.InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:main"))
   |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
61 | â€¦markup=markup)
62 | â€¦
   |

E501 Line too long (130 > 120)
  --> scripts/handlers_admin.py:61:120
   |
59 | â€¦         markup = types.InlineKeyboardMarkup(row_width=1)
60 | â€¦         markup.add(types.InlineKeyboardButton("âœ… Contenu possÃ©dÃ©", callback_data="adm:share_owned"), types.InlineKeyboardButton("âŒ  â€¦
61 | â€¦         bot.edit_message_text("ğŸ“‚ **Gestion du Partage**", call.message.chat.id, call.message.message_id, reply_markup=markup)
   |                                                                                                                       ^^^^^^^^^^
62 | â€¦     elif cmd == "users":
63 | â€¦         markup = types.InlineKeyboardMarkup(row_width=1)
   |

E501 Line too long (308 > 120)
  --> scripts/handlers_admin.py:64:120
   |
62 | â€¦
63 | â€¦
64 | â€¦Button("â• Ajouter", callback_data="adm:users_add"), types.InlineKeyboardButton("âŒ RÃ©voquer", callback_data="adm:users_rev"), types.InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:main"))
   |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
65 | â€¦reply_markup=markup)
66 | â€¦
   |

E501 Line too long (136 > 120)
  --> scripts/handlers_admin.py:65:120
   |
63 | â€¦
64 | â€¦callback_data="adm:users_list"), types.InlineKeyboardButton("â• Ajouter", callback_data="adm:users_add"), types.InlineKeyboardButton("â€¦
65 | â€¦s**", call.message.chat.id, call.message.message_id, reply_markup=markup)
   |                                                           ^^^^^^^^^^^^^^^^
66 | â€¦
67 | â€¦(f)["allowed"]
   |

E501 Line too long (223 > 120)
  --> scripts/handlers_admin.py:69:121
   |
67 | â€¦
68 | â€¦
69 | â€¦.InlineKeyboardMarkup().add(types.InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:users")), parse_mode='Markdown')
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
70 | â€¦
71 | â€¦
   |

E501 Line too long (135 > 120)
  --> scripts/handlers_admin.py:80:121
   |
78 | â€¦", callback_data=f"adm:users_del:{u}"))
79 | â€¦, callback_data="adm:users"))
80 | â€¦er :", call.message.chat.id, call.message.message_id, reply_markup=markup)
   |                                                             ^^^^^^^^^^^^^^^
81 | â€¦
82 | â€¦
   |

E501 Line too long (166 > 120)
  --> scripts/handlers_admin.py:88:121
   |
86 | â€¦
87 | â€¦
88 | â€¦all.from_user, message=call.message, data="adm:users", chat_instance=call.chat_instance))
   |                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
89 | â€¦
90 | â€¦
   |

E501 Line too long (248 > 120)
  --> scripts/handlers_admin.py:91:120
   |
89 | â€¦
90 | â€¦
91 | â€¦yboardButton("ğŸ“º SÃ©ries", callback_data="adm:list_owned:series"), types.InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:share"))
   |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
92 | â€¦)
93 | â€¦
   |

E501 Line too long (145 > 120)
  --> scripts/handlers_media.py:57:121
   |
55 | â€¦)})\n"
56 | â€¦
57 | â€¦k_data=f"m_sel:{category}:{items[i-1]['id']}") for i in range(1, len(items)+1)]
   |                                                        ^^^^^^^^^^^^^^^^^^^^^^^^^
58 | â€¦
59 | â€¦
   |

E501 Line too long (130 > 120)
  --> scripts/handlers_media.py:61:122
   |
59 |         nav_row = []
60 |         if page > 0: nav_row.append(types.InlineKeyboardButton("â¬…ï¸", callback_data=f"m_pag:{category}:{page-1}"))
61 |         if end < total: nav_row.append(types.InlineKeyboardButton(f"â¡ï¸ ({total-end})", callback_data=f"m_pag:{category}:{page+1}"))
   |                                                                                                                         ^^^^^^^^^^
62 |         if nav_row: markup.row(*nav_row)
63 |         markup.add(types.InlineKeyboardButton("ğŸ  Menu Admin", callback_data="adm:main"))
   |

E501 Line too long (158 > 120)
  --> scripts/handlers_media.py:86:121
   |
84 | â€¦
85 | â€¦
86 | â€¦, r'\bx26[45]\b', r'\bBluRay\b', r'\bWEB-DL\b', r'\bCOMPLETE\b', r'\bSeason\s*\d*\b']
   |                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
87 | â€¦
88 | â€¦RECASE)
   |

E501 Line too long (138 > 120)
   --> scripts/handlers_media.py:99:119
    |
 97 | â€¦
 98 | â€¦medelta(seconds=eta_sec))
 99 | â€¦d(t['progress']*100,1)}% | ğŸ“‚ {round(t['size']/1024**3,2)}GB | â³ {eta}\n"
    |                                                          ^^^^^^^^^^^^^^^^^^
100 | â€¦
101 | â€¦
    |

E501 Line too long (153 > 120)
   --> scripts/handlers_media.py:103:121
    |
101 | â€¦
102 | â€¦
103 | â€¦("m_pag", "m_sel", "m_act", "sel", "act", "share_exec", "share_final", "cancel")))
    |                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
104 | â€¦
105 | â€¦
    |

E501 Line too long (123 > 120)
   --> scripts/handlers_media.py:116:121
    |
114 |             display_title = f"ID {item_id}"
115 |             try:
116 |                 r = requests.get(f"{cfg['url']}/api/v3/{endpoint}/{item_id}", headers={"X-Api-Key": cfg['key']}, timeout=5)
    |                                                                                                                         ^^^
117 |                 if r.status_code == 200: display_title = r.json().get('title', display_title)
118 |             except: pass
    |

E501 Line too long (160 > 120)
   --> scripts/handlers_media.py:123:120
    |
121 | â€¦ata=f"m_act:share:{d[1]}:{d[2]}"),
122 | â€¦ta=f"m_pag:{d[1]}:0"))
123 | â€¦message.chat.id, call.message.message_id, reply_markup=markup, parse_mode='Markdown')
    |                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
124 | â€¦
125 | â€¦
    |

E501 Line too long (127 > 120)
   --> scripts/handlers_media.py:131:121
    |
129 |                 endpoint = "movie" if cat == "films" else "series"
130 |                 try:
131 |                     r = requests.get(f"{cfg['url']}/api/v3/{endpoint}/{item_id}", headers={"X-Api-Key": cfg['key']}, timeout=5)
    |                                                                                                                         ^^^^^^^
132 |                     if r.status_code == 200:
133 |                         path = r.json().get('path')
    |

E501 Line too long (127 > 120)
   --> scripts/handlers_media.py:146:121
    |
144 |         elif d[0] == "sel":
145 |             try:
146 |                 with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[2])]
    |                                                                                                                         ^^^^^^^
147 |                 markup = types.InlineKeyboardMarkup(row_width=2)
148 |                 act = "arc" if item['is_nvme'] else "res"
    |

E501 Line too long (197 > 120)
   --> scripts/handlers_media.py:149:120
    |
147 | â€¦
148 | â€¦
149 | â€¦ct}:{d[1]}:{d[2]}"), types.InlineKeyboardButton("ğŸ—‘ï¸ Supprimer", callback_data=f"act:del:{d[1]}:{d[2]}"))
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
150 | â€¦ Partager", callback_data=f"share_exec:{d[2]}"))
151 | â€¦
    |

E501 Line too long (142 > 120)
   --> scripts/handlers_media.py:150:120
    |
148 | â€¦
149 | â€¦est", callback_data=f"act:{act}:{d[1]}:{d[2]}"), types.InlineKeyboardButton("ğŸ—‘ï¸ Supprimer", callback_data=f"act:del:{d[1]}:{d[2]}"))
150 | â€¦ypes.InlineKeyboardButton("ğŸ”— Partager", callback_data=f"share_exec:{d[2]}"))
    |                                                         ^^^^^^^^^^^^^^^^^^^^^^
151 | â€¦, callback_data="cancel"))
152 | â€¦message.chat.id, call.message.message_id, reply_markup=markup)
    |

E501 Line too long (126 > 120)
   --> scripts/handlers_media.py:152:122
    |
150 | â€¦             if call.from_user.id == SUPER_ADMIN: markup.add(types.InlineKeyboardButton("ğŸ”— Partager", callback_data=f"share_exec:{d[â€¦
151 | â€¦             markup.add(types.InlineKeyboardButton("âŒ Annuler", callback_data="cancel"))
152 | â€¦             bot.edit_message_text(f"ğŸ› ï¸ {item['name']}", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                                                                                                       ^^^^^^
153 | â€¦         except: bot.answer_callback_query(call.id, "âŒ Session expirÃ©e.")
154 | â€¦     elif d[0] == "act":
    |

E501 Line too long (127 > 120)
   --> scripts/handlers_media.py:156:121
    |
154 |         elif d[0] == "act":
155 |             try:
156 |                 with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[3])]
    |                                                                                                                         ^^^^^^^
157 |                 res = subprocess.run(["python3", SCRIPT_PATH, "action", d[1], d[2], item['path']], capture_output=True, text=True)
158 |                 bot.edit_message_text(f"âœ… {item['name']}: {res.stdout.strip()}", call.message.chat.id, call.message.message_id)
    |

E501 Line too long (130 > 120)
   --> scripts/handlers_media.py:157:121
    |
155 |             try:
156 |                 with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[3])]
157 |                 res = subprocess.run(["python3", SCRIPT_PATH, "action", d[1], d[2], item['path']], capture_output=True, text=True)
    |                                                                                                                         ^^^^^^^^^^
158 |                 bot.edit_message_text(f"âœ… {item['name']}: {res.stdout.strip()}", call.message.chat.id, call.message.message_id)
159 |             except: bot.answer_callback_query(call.id, "âŒ Erreur.")
    |

E501 Line too long (128 > 120)
   --> scripts/handlers_media.py:158:120
    |
156 |                 with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[3])]
157 |                 res = subprocess.run(["python3", SCRIPT_PATH, "action", d[1], d[2], item['path']], capture_output=True, text=True)
158 |                 bot.edit_message_text(f"âœ… {item['name']}: {res.stdout.strip()}", call.message.chat.id, call.message.message_id)
    |                                                                                                                         ^^^^^^^^
159 |             except: bot.answer_callback_query(call.id, "âŒ Erreur.")
160 |         elif d[0] == "share_exec":
    |

E501 Line too long (127 > 120)
   --> scripts/handlers_media.py:162:121
    |
160 |         elif d[0] == "share_exec":
161 |             try:
162 |                 with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[1])]
    |                                                                                                                         ^^^^^^^
163 |                 src = pathlib.Path(item['path']); subtitles = list(src.parent.glob(f"{src.stem}*.srt"))
164 |                 if subtitles:
    |

E501 Line too long (263 > 120)
   --> scripts/handlers_media.py:166:120
    |
164 | â€¦
165 | â€¦
166 | â€¦ypes.InlineKeyboardButton("ğŸ¬ Remux", callback_data=f"share_final:{d[1]}:remux"), types.InlineKeyboardButton("âŒ Annuler", callback_data="cancel"))
    |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
167 | â€¦sage.chat.id, call.message.message_id, reply_markup=markup)
168 | â€¦message, data=f"share_final:{d[1]}:link", chat_instance=call.chat_instance))
    |

E501 Line too long (175 > 120)
   --> scripts/handlers_media.py:167:120
    |
165 | â€¦
166 | â€¦ta=f"share_final:{d[1]}:link"), types.InlineKeyboardButton("ğŸ¬ Remux", callback_data=f"share_final:{d[1]}:remux"), types.InlineKeyboaâ€¦
167 | â€¦} sous-titres trouvÃ©s.", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
168 | â€¦ser=call.from_user, message=call.message, data=f"share_final:{d[1]}:link", chat_instance=call.chat_instance))
169 | â€¦
    |

E501 Line too long (191 > 120)
   --> scripts/handlers_media.py:168:121
    |
166 | â€¦re_final:{d[1]}:link"), types.InlineKeyboardButton("ğŸ¬ Remux", callback_data=f"share_final:{d[1]}:remux"), types.InlineKeyboardButtonâ€¦
167 | â€¦itres trouvÃ©s.", call.message.chat.id, call.message.message_id, reply_markup=markup)
168 | â€¦.from_user, message=call.message, data=f"share_final:{d[1]}:link", chat_instance=call.chat_instance))
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
169 | â€¦
170 | â€¦
    |

E501 Line too long (127 > 120)
   --> scripts/handlers_media.py:172:121
    |
170 |         elif d[0] == "share_final":
171 |             try:
172 |                 with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[1])]
    |                                                                                                                         ^^^^^^^
173 |                 remux_opt = True if d[2] == "remux" else False
174 |                 bot.edit_message_text("â³ Traitement...", call.message.chat.id, call.message.message_id)
    |

E501 Line too long (157 > 120)
   --> scripts/handlers_media.py:176:119
    |
174 | â€¦t.id, call.message.message_id)
175 | â€¦mux=remux_opt)
176 | â€¦e.chat.id, f"âœ… **PartagÃ©**\n\nğŸ”— VidÃ©o : `{data['video']}`", parse_mode='Markdown')
    |                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
177 | â€¦
178 | â€¦rne.")
    |

E501 Line too long (204 > 120)
  --> scripts/handlers_search.py:13:121
   |
11 | â€¦"}}"
12 | â€¦
13 | â€¦{"model": "gpt-4o-mini", "messages": [{"role": "user", "content": prompt}], "temperature": 0.1}, timeout=10)
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
14 | â€¦
15 | â€¦
   |

E501 Line too long (125 > 120)
  --> scripts/handlers_search.py:60:121
   |
58 |             if cat == "series": payload["languageProfileId"] = 1
59 |
60 |             r = requests.post(f"{cfg['url']}/api/v3/{endpoint}", headers={"X-Api-Key": cfg['key']}, json=payload, timeout=10)
   |                                                                                                                         ^^^^^
61 |             if r.status_code in [200, 201]:
62 |                 bot.edit_message_text(f"âœ… **AjoutÃ© :** `{item['title']} ({item.get('year')})`", call.message.chat.id, call.message.mesâ€¦
   |

E501 Line too long (166 > 120)
  --> scripts/handlers_search.py:62:120
   |
60 | â€¦Api-Key": cfg['key']}, json=payload, timeout=10)
61 | â€¦
62 | â€¦m.get('year')})`", call.message.chat.id, call.message.message_id, parse_mode='Markdown')
   |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
63 | â€¦
64 | â€¦")
   |

E501 Line too long (167 > 120)
  --> scripts/media_manager.py:25:121
   |
23 | â€¦
24 | â€¦
25 | â€¦]\b', r'\bBluRay\b', r'\bWEB-DL\b', r'\bCOMPLETE\b', r'\bSeason\s*\d*\b', r'\bS\d+E\d+\b']
   |                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
26 | â€¦
27 | â€¦
   |

E501 Line too long (144 > 120)
  --> scripts/media_manager.py:67:121
   |
65 | â€¦
66 | â€¦
67 | â€¦: f, "size_gb": round(size / (1024**3), 2), "is_nvme": is_nvme, "path": path})
   |                                                        ^^^^^^^^^^^^^^^^^^^^^^^^
68 | â€¦
   |

E501 Line too long (137 > 120)
   --> scripts/pi_bot.py:109:121
    |
107 | â€¦tem['title']} ({item.get('year', '')})\n"
108 | â€¦
109 | â€¦a=f"m_sel:{category}:{items[i-1]['id']}") for i in range(1, len(items)+1)]
    |                                                           ^^^^^^^^^^^^^^^^^
110 | â€¦
111 | â€¦
    |

E501 Line too long (204 > 120)
   --> scripts/pi_bot.py:133:121
    |
131 | â€¦"}}"
132 | â€¦
133 | â€¦{"model": "gpt-4o-mini", "messages": [{"role": "user", "content": prompt}], "temperature": 0.1}, timeout=10)
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
134 | â€¦
135 | â€¦
    |

E501 Line too long (133 > 120)
   --> scripts/pi_bot.py:179:120
    |
177 | â€¦lback_data=f"m_act:share:{d[1]}:{d[2]}"),
178 | â€¦back_data=f"m_pag:{d[1]}:0"))
179 | â€¦*", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                                            ^^^^^^^^^^^^^
180 | â€¦.id, "ğŸ“¥ AjoutÃ©.")
181 | â€¦id, f"Action {d[1]} enregistrÃ©e.", show_alert=True)
    |

E501 Line too long (284 > 120)
   --> scripts/pi_bot.py:189:119
    |
187 | â€¦
188 | â€¦
189 | â€¦ateurs", callback_data="adm:users"), InlineKeyboardButton("ğŸ§¹ Nettoyage SSD", callback_data="adm:clean"), InlineKeyboardButton("ğŸ”™ Fermer", callback_data="adm:close"))
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
190 | â€¦y_markup=markup)
191 | â€¦
    |

E501 Line too long (130 > 120)
   --> scripts/pi_bot.py:190:122
    |
188 | â€¦         markup = InlineKeyboardMarkup(row_width=1)
189 | â€¦         markup.add(InlineKeyboardButton("ğŸ“‚ Partage", callback_data="adm:share"), InlineKeyboardButton("ğŸ‘¥ Utilisateurs", callback_d â€¦
190 | â€¦         bot.edit_message_text("ğŸ› ï¸ **Menu Administrateur**", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                                                                                                       ^^^^^^^^^^
191 | â€¦     elif cmd == "share":
192 | â€¦         markup = InlineKeyboardMarkup(row_width=1)
    |

E501 Line too long (238 > 120)
   --> scripts/pi_bot.py:193:120
    |
191 | â€¦
192 | â€¦
193 | â€¦Button("âŒ Contenu non possÃ©dÃ©", callback_data="adm:share_new"), InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:main"))
    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
194 | â€¦y_markup=markup)
195 | â€¦
    |

E501 Line too long (130 > 120)
   --> scripts/pi_bot.py:194:120
    |
192 | â€¦         markup = InlineKeyboardMarkup(row_width=1)
193 | â€¦         markup.add(InlineKeyboardButton("âœ… Contenu possÃ©dÃ©", callback_data="adm:share_owned"), InlineKeyboardButton("âŒ Contenu non â€¦
194 | â€¦         bot.edit_message_text("ğŸ“‚ **Gestion du Partage**", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                                                                                                       ^^^^^^^^^^
195 | â€¦     elif cmd == "users":
196 | â€¦         markup = InlineKeyboardMarkup(row_width=1)
    |

E501 Line too long (284 > 120)
   --> scripts/pi_bot.py:197:119
    |
195 | â€¦
196 | â€¦
197 | â€¦outer", callback_data="adm:users_add"), InlineKeyboardButton("âŒ RÃ©voquer", callback_data="adm:users_rev"), InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:main"))
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
198 | â€¦reply_markup=markup)
199 | â€¦
    |

E501 Line too long (136 > 120)
   --> scripts/pi_bot.py:198:120
    |
196 | â€¦
197 | â€¦ck_data="adm:users_list"), InlineKeyboardButton("â• Ajouter", callback_data="adm:users_add"), InlineKeyboardButton("âŒ RÃ©voquer", cal â€¦
198 | â€¦s**", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                                           ^^^^^^^^^^^^^^^^
199 | â€¦
200 | â€¦eurs :**\n\n" + "\n".join([f"â€¢ `{u}`" for u in users])
    |

E501 Line too long (211 > 120)
   --> scripts/pi_bot.py:201:121
    |
199 | â€¦
200 | â€¦for u in users])
201 | â€¦InlineKeyboardMarkup().add(InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:users")), parse_mode='Markdown')
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
202 | â€¦
203 | â€¦
    |

E501 Line too long (135 > 120)
   --> scripts/pi_bot.py:211:121
    |
209 | â€¦back_data=f"adm:users_del:{u}"))
210 | â€¦ack_data="adm:users"))
211 | â€¦r :", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                                            ^^^^^^^^^^^^^^^
212 | â€¦
213 | â€¦
    |

E501 Line too long (158 > 120)
   --> scripts/pi_bot.py:215:121
    |
213 | â€¦
214 | â€¦swer_callback_query(call.id, "âœ… RÃ©voquÃ©.")
215 | â€¦from_user, message=call.message, data="adm:users", chat_instance=call.chat_instance))
    |                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
216 | â€¦
217 | â€¦
    |

E501 Line too long (230 > 120)
   --> scripts/pi_bot.py:218:119
    |
216 | â€¦
217 | â€¦
218 | â€¦Button("ğŸ“º SÃ©ries", callback_data="adm:list_owned:series"), InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:share"))
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
219 | â€¦markup)
220 | â€¦
    |

E501 Line too long (123 > 120)
   --> scripts/pi_bot.py:227:121
    |
225 |     if d[0] == "sel":
226 |         try:
227 |             with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[2])]
    |                                                                                                                         ^^^
228 |             markup = InlineKeyboardMarkup(row_width=2)
229 |             act = "arc" if item['is_nvme'] else "res"
    |

E501 Line too long (181 > 120)
   --> scripts/pi_bot.py:230:120
    |
228 | â€¦
229 | â€¦
230 | â€¦}:{d[1]}:{d[2]}"), InlineKeyboardButton("ğŸ—‘ï¸ Supprimer", callback_data=f"act:del:{d[1]}:{d[2]}"))
    |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
231 | â€¦artager", callback_data=f"share_exec:{d[2]}"))
232 | â€¦
    |

E501 Line too long (132 > 120)
   --> scripts/pi_bot.py:231:120
    |
229 | â€¦     act = "arc" if item['is_nvme'] else "res"
230 | â€¦     markup.add(InlineKeyboardButton("ğŸ“¦ Archiv/Rest", callback_data=f"act:{act}:{d[1]}:{d[2]}"), InlineKeyboardButton("ğŸ—‘ï¸ Supprimer"â€¦
231 | â€¦     if call.from_user.id == SUPER_ADMIN: markup.add(InlineKeyboardButton("ğŸ”— Partager", callback_data=f"share_exec:{d[2]}"))
    |                                                                                                                   ^^^^^^^^^^^^
232 | â€¦     markup.add(InlineKeyboardButton("âŒ Annuler", callback_data="cancel"))
233 | â€¦     bot.edit_message_text(f"ğŸ› ï¸ {item['name']}", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |

E501 Line too long (122 > 120)
   --> scripts/pi_bot.py:233:122
    |
231 |             if call.from_user.id == SUPER_ADMIN: markup.add(InlineKeyboardButton("ğŸ”— Partager", callback_data=f"share_exec:{d[2]}"))
232 |             markup.add(InlineKeyboardButton("âŒ Annuler", callback_data="cancel"))
233 |             bot.edit_message_text(f"ğŸ› ï¸ {item['name']}", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                                                                                                         ^^
234 |         except: bot.answer_callback_query(call.id, "âŒ Session expirÃ©e.")
235 |     elif d[0] == "act":
    |

E501 Line too long (123 > 120)
   --> scripts/pi_bot.py:237:121
    |
235 |     elif d[0] == "act":
236 |         try:
237 |             with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[3])]
    |                                                                                                                         ^^^
238 |             res = subprocess.run(["python3", SCRIPT_PATH, "action", d[1], d[2], item['path']], capture_output=True, text=True)
239 |             bot.edit_message_text(f"âœ… {item['name']}: {res.stdout.strip()}", call.message.chat.id, call.message.message_id)
    |

E501 Line too long (126 > 120)
   --> scripts/pi_bot.py:238:121
    |
236 |         try:
237 |             with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[3])]
238 |             res = subprocess.run(["python3", SCRIPT_PATH, "action", d[1], d[2], item['path']], capture_output=True, text=True)
    |                                                                                                                         ^^^^^^
239 |             bot.edit_message_text(f"âœ… {item['name']}: {res.stdout.strip()}", call.message.chat.id, call.message.message_id)
240 |         except: bot.answer_callback_query(call.id, "âŒ Erreur.")
    |

E501 Line too long (124 > 120)
   --> scripts/pi_bot.py:239:120
    |
237 |             with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[3])]
238 |             res = subprocess.run(["python3", SCRIPT_PATH, "action", d[1], d[2], item['path']], capture_output=True, text=True)
239 |             bot.edit_message_text(f"âœ… {item['name']}: {res.stdout.strip()}", call.message.chat.id, call.message.message_id)
    |                                                                                                                         ^^^^
240 |         except: bot.answer_callback_query(call.id, "âŒ Erreur.")
241 |     elif d[0] == "share_exec":
    |

E501 Line too long (123 > 120)
   --> scripts/pi_bot.py:243:121
    |
241 |     elif d[0] == "share_exec":
242 |         try:
243 |             with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[1])]
    |                                                                                                                         ^^^
244 |             src = pathlib.Path(item['path']); subtitles = list(src.parent.glob(f"{src.stem}*.srt"))
245 |             if subtitles:
    |

E501 Line too long (241 > 120)
   --> scripts/pi_bot.py:247:120
    |
245 | â€¦
246 | â€¦
247 | â€¦ardButton("ğŸ¬ Remux", callback_data=f"share_final:{d[1]}:remux"), InlineKeyboardButton("âŒ Annuler", callback_data="cancel"))
    |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
248 | â€¦.chat.id, call.message.message_id, reply_markup=markup)
249 | â€¦a=f"share_final:{d[1]}:link", chat_instance=call.chat_instance))
    |

E501 Line too long (171 > 120)
   --> scripts/pi_bot.py:248:120
    |
246 | â€¦
247 | â€¦re_final:{d[1]}:link"), InlineKeyboardButton("ğŸ¬ Remux", callback_data=f"share_final:{d[1]}:remux"), InlineKeyboardButton("âŒ Annuler â€¦
248 | â€¦sous-titres trouvÃ©s.", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
249 | â€¦rom_user, message=call.message, data=f"share_final:{d[1]}:link", chat_instance=call.chat_instance))
250 | â€¦
    |

E501 Line too long (179 > 120)
   --> scripts/pi_bot.py:249:121
    |
247 | â€¦inal:{d[1]}:link"), InlineKeyboardButton("ğŸ¬ Remux", callback_data=f"share_final:{d[1]}:remux"), InlineKeyboardButton("âŒ Annuler", c â€¦
248 | â€¦-titres trouvÃ©s.", call.message.chat.id, call.message.message_id, reply_markup=markup)
249 | â€¦user, message=call.message, data=f"share_final:{d[1]}:link", chat_instance=call.chat_instance))
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
250 | â€¦
251 | â€¦
    |

E501 Line too long (123 > 120)
   --> scripts/pi_bot.py:253:121
    |
251 |     elif d[0] == "share_final":
252 |         try:
253 |             with open(CONTEXT_FILE, "r") as f: ctx = json.load(f); item = ctx[str(call.message.chat.id)]["list"][int(d[1])]
    |                                                                                                                         ^^^
254 |             remux_opt = True if d[2] == "remux" else False
255 |             bot.edit_message_text("â³ Traitement...", call.message.chat.id, call.message.message_id)
    |

E501 Line too long (144 > 120)
  --> scripts/pi_bot_debug.py:44:122
   |
42 | â€¦
43 | â€¦
44 | â€¦entative d'accÃ¨s au menu admin par {m.from_user.id} (@{m.from_user.username})")
   |                                                         ^^^^^^^^^^^^^^^^^^^^^^^^
45 | â€¦
46 | â€¦
   |

E501 Line too long (280 > 120)
  --> scripts/pi_bot_debug.py:65:119
   |
63 | â€¦
64 | â€¦
65 | â€¦rs", callback_data="adm:users"), InlineKeyboardButton("ğŸ§¹ Nettoyage SSD", callback_data="adm:clean"), InlineKeyboardButton("ğŸ”™ Fermer", callback_data="adm:close"))
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
66 | â€¦rkup=markup)
   |

E501 Line too long (126 > 120)
  --> scripts/pi_bot_debug.py:66:122
   |
64 |         markup = InlineKeyboardMarkup(row_width=1)
65 |         markup.add(InlineKeyboardButton("ğŸ“‚ Partage", callback_data="adm:share"), InlineKeyboardButton("ğŸ‘¥ Utilisateurs", callback_data â€¦
66 |         bot.edit_message_text("ğŸ› ï¸ **Menu Administrateur**", call.message.chat.id, call.message.message_id, reply_markup=markup)
   |                                                                                                                         ^^^^^^
67 |     
68 |     elif cmd == "share":
   |

E501 Line too long (234 > 120)
  --> scripts/pi_bot_debug.py:70:119
   |
68 | â€¦
69 | â€¦
70 | â€¦tton("âŒ Contenu non possÃ©dÃ©", callback_data="adm:share_new"), InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:main"))
   |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
71 | â€¦markup=markup)
   |

E501 Line too long (126 > 120)
  --> scripts/pi_bot_debug.py:71:120
   |
69 |         markup = InlineKeyboardMarkup(row_width=1)
70 |         markup.add(InlineKeyboardButton("âœ… Contenu possÃ©dÃ©", callback_data="adm:share_owned"), InlineKeyboardButton("âŒ Contenu non po â€¦
71 |         bot.edit_message_text("ğŸ“‚ **Gestion du Partage**", call.message.chat.id, call.message.message_id, reply_markup=markup)
   |                                                                                                                         ^^^^^^
72 |     
73 |     elif cmd == "users":
   |

E501 Line too long (132 > 120)
  --> scripts/pi_bot_debug.py:79:120
   |
77 |                    InlineKeyboardButton("âŒ RÃ©voquer un accÃ¨s", callback_data="adm:users_rev"),
78 |                    InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:main"))
79 |         bot.edit_message_text("ğŸ‘¥ **Gestion des Utilisateurs**", call.message.chat.id, call.message.message_id, reply_markup=markup)
   |                                                                                                                         ^^^^^^^^^^^^
80 |     
81 |     elif cmd == "users_list":
   |

E501 Line too long (126 > 120)
  --> scripts/pi_bot_debug.py:85:121
   |
83 |         text = "ğŸ“‹ **Utilisateurs autorisÃ©s :**\n\n" + "\n".join([f"â€¢ `{u}`" for u in users])
84 |         markup = InlineKeyboardMarkup().add(InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:users"))
85 |         bot.edit_message_text(text, call.message.chat.id, call.message.message_id, reply_markup=markup, parse_mode='Markdown')
   |                                                                                                                         ^^^^^^
86 |     
87 |     elif cmd == "users_add":
   |

E501 Line too long (131 > 120)
   --> scripts/pi_bot_debug.py:98:121
    |
 96 |             markup.add(InlineKeyboardButton(f"âŒ {u}", callback_data=f"adm:users_del:{u}"))
 97 |         markup.add(InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:users"))
 98 |         bot.edit_message_text("SÃ©lectionnez l'ID Ã  rÃ©voquer :", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                                                                                                         ^^^^^^^^^^^
 99 |     
100 |     elif cmd == "users_del":
    |

E501 Line too long (226 > 120)
   --> scripts/pi_bot_debug.py:111:119
    |
109 | â€¦
110 | â€¦
111 | â€¦tton("ğŸ“º SÃ©ries", callback_data="adm:list_owned:series"), InlineKeyboardButton("â¬…ï¸ Retour", callback_data="adm:share"))
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
112 | â€¦ reply_markup=markup)
    |

E501 Line too long (128 > 120)
   --> scripts/pi_bot_debug.py:112:121
    |
110 |         markup = InlineKeyboardMarkup(row_width=2)
111 |         markup.add(InlineKeyboardButton("ğŸ¬ Films", callback_data="adm:list_owned:movies"), InlineKeyboardButton("ğŸ“º SÃ©ries", callback â€¦
112 |         bot.edit_message_text("SÃ©lectionnez la catÃ©gorie :", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                                                                                                         ^^^^^^^^
113 |     
114 |     elif cmd == "list_owned":
    |

E501 Line too long (234 > 120)
   --> scripts/pi_bot_debug.py:118:120
    |
117 | â€¦
118 | â€¦e vous souhaitez rechercher et partager. L'IA s'occupera de la recherche.", call.message.chat.id, call.message.message_id)
    |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
119 | â€¦
120 | â€¦
    |

E501 Line too long (145 > 120)
   --> scripts/pi_bot_debug.py:121:120
    |
120 | â€¦
121 | â€¦Ã© en cours de dÃ©veloppement.", call.message.chat.id, call.message.message_id)
    |                                                      ^^^^^^^^^^^^^^^^^^^^^^^^^
122 | â€¦
123 | â€¦all.message.message_id)
    |

E501 Line too long (122 > 120)
   --> scripts/pi_bot_debug.py:193:121
    |
191 |             bot.answer_callback_query(call.id, "âŒ Session expirÃ©e.")
192 |             return
193 |         res = subprocess.run(["python3", SCRIPT_PATH, "action", d[1], d[2], item['path']], capture_output=True, text=True)
    |                                                                                                                         ^^
194 |         bot.edit_message_text(f"âœ… {item['name']}: {res.stdout.strip()}", call.message.chat.id, call.message.message_id)
195 |     elif d[0] == "share_exec":
    |

E501 Line too long (174 > 120)
   --> scripts/pi_bot_debug.py:213:120
    |
211 | â€¦data=f"share_final:{d[1]}:remux"),
212 | â€¦
213 | â€¦us-titre(s) trouvÃ©(s).", call.message.chat.id, call.message.message_id, reply_markup=markup)
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
214 | â€¦
215 | â€¦
    |

E501 Line too long (180 > 120)
   --> scripts/pi_bot_debug.py:216:121
    |
214 | â€¦
215 | â€¦
216 | â€¦_user, message=call.message, data=f"share_final:{d[1]}:link", chat_instance=call.chat_instance))
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
217 | â€¦
218 | â€¦
    |

E501 Line too long (150 > 120)
   --> scripts/pi_bot_debug.py:228:119
    |
227 | â€¦
228 | â€¦ else "â³ GÃ©nÃ©ration du lien...", call.message.chat.id, call.message.message_id)
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
229 | â€¦
230 | â€¦remux_opt)
    |

E501 Line too long (151 > 120)
   --> scripts/pi_bot_debug.py:234:118
    |
232 | â€¦
233 | â€¦
234 | â€¦dÃ©o : `{data['video']}`\n\nâœ… Les sous-titres ont Ã©tÃ© intÃ©grÃ©s au fichier MKV."
    |                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
235 | â€¦
236 | â€¦{data['video']}`\n"
    |

E501 Line too long (133 > 120)
   --> scripts/pi_bot_debug.py:281:121
    |
280 | â€¦     try:
281 | â€¦         r_add = requests.post(f"{cfg['url']}/api/v3/{endpoint}", headers={"X-Api-Key": cfg['key']}, json=payload, timeout=10)
    |                                                                                                                   ^^^^^^^^^^^^^
282 | â€¦         if r_add.status_code in [200, 201]:
283 | â€¦             bot.edit_message_text(f"ğŸ“¥ **AjoutÃ© Ã  la file d'attente :** `{dl_data['found_title']} ({dl_data['year']})`\nLe tÃ©lÃ©chargâ€¦
    |

E501 Line too long (229 > 120)
   --> scripts/pi_bot_debug.py:283:120
    |
281 | â€¦son=payload, timeout=10)
282 | â€¦
283 | â€¦_data['year']})`\nLe tÃ©lÃ©chargement va dÃ©buter.", call.message.chat.id, call.message.message_id, parse_mode='Markdown')
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
284 | â€¦
285 | â€¦
    |

E501 Line too long (142 > 120)
   --> scripts/pi_bot_debug.py:286:120
    |
284 | â€¦
285 | â€¦
286 | â€¦rreur {r_add.status_code}).", call.message.chat.id, call.message.message_id)
    |                                                        ^^^^^^^^^^^^^^^^^^^^^^
287 | â€¦
288 | â€¦
    |

E501 Line too long (131 > 120)
   --> scripts/pi_bot_debug.py:289:120
    |
287 |             except Exception as e:
288 |                 logging.error(f"Arr API Error: {e}")
289 |                 bot.edit_message_text("âŒ Erreur de communication avec le serveur.", call.message.chat.id, call.message.message_id)
    |                                                                                                                         ^^^^^^^^^^^
290 |
291 | @bot.message_handler(commands=['status'])
    |

E501 Line too long (154 > 120)
   --> scripts/pi_bot_debug.py:345:121
    |
343 | â€¦
344 | â€¦
345 | â€¦r'\bx26[45]\b', r'\bBluRay\b', r'\bWEB-DL\b', r'\bCOMPLETE\b', r'\bSeason\s*\d*\b']
    |                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
346 | â€¦
347 | â€¦CASE)
    |

E501 Line too long (453 > 120)
   --> scripts/pi_bot_debug.py:377:121
    |
375 | â€¦
376 | â€¦
377 | â€¦arsing :\n'S01E01' ou 'S1E1' -> saison: 1, episode: 1\n'Saison 2' -> saison: 2, episode: null\nSi c'est un film ou incertain -> type: 'film', saison/episode: null\nSi c'est une sÃ©rie -> type: 'serie'\n\nRenvoie UNIQUEMENT un JSON pur : {{\"titre\": \"str\", \"saison\": \"int|null\", \"episode\": \"int|null\", \"type\": \"serie|film\"}}"
    |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
378 | â€¦
379 | â€¦
    |

E501 Line too long (124 > 120)
   --> scripts/pi_bot_debug.py:474:120
    |
472 |         return
473 |
474 |     bot.send_message(m.chat.id, f"ğŸ” **Recherche en cours :** `{titre}` ({type_media.capitalize()})", parse_mode='Markdown')
    |                                                                                                                         ^^^^
475 |
476 |     # 2. Phase de Routage & VÃ©rification de DisponibilitÃ© locale
    |

E501 Line too long (133 > 120)
   --> scripts/pi_bot_debug.py:492:121
    |
490 |     try:
491 |         # Recherche API Sonarr/Radarr
492 |         r_lookup = requests.get(f"{cfg['url']}/api/v3/{endpoint}/lookup?term={titre}", headers={"X-Api-Key": cfg['key']}, timeout=10)
    |                                                                                                                         ^^^^^^^^^^^^^
493 |         results = r_lookup.json()
    |

E501 Line too long (172 > 120)
   --> scripts/pi_bot_debug.py:509:120
    |
508 | â€¦
509 | â€¦ssÃ©dÃ© ou en cours de tÃ©lÃ©chargement sur {'Radarr' if type_media == 'film' else 'Sonarr'}.")
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
510 | â€¦
    |

E501 Line too long (134 > 120)
  --> scripts/share_engine.py:42:121
   |
40 |                     break
41 |         
42 |         cmd = ["ffprobe", "-v", "error", "-select_streams", "v:0", "-show_entries", "stream=height", "-of", "csv=s=x:p=0", probe_path]
   |                                                                                                                         ^^^^^^^^^^^^^^
43 |         try:
44 |             res = subprocess.run(cmd, capture_output=True, text=True, timeout=5)
   |

E501 Line too long (146 > 120)
  --> scripts/storage_skill.py:13:119
   |
11 | â€¦ouvable."
12 | â€¦
13 | â€¦}" for i in sorted(items)]) if items else f"ğŸ“‚ Aucun contenu dans {category}."
   |                                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^
14 | â€¦
15 | â€¦
   |

E712 Avoid equality comparisons to `True`; use `config.is_authorized(config.SUPER_ADMIN):` for truth checks
  --> scripts/tests/test_config.py:31:12
   |
29 | def test_is_authorized_super_admin():
30 |     import config
31 |     assert config.is_authorized(config.SUPER_ADMIN) == True
   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
help: Replace with `config.is_authorized(config.SUPER_ADMIN)`

E501 Line too long (126 > 120)
   --> scripts/tests/test_search.py:113:121
    |
111 |         "456_search": {
112 |             "cat": "movie",
113 |             "results": [{"title": "Titanic", "year": 1997, "titleSlug": "titanic-1997", "tmdbId": 597, "images": [], "id": 0}]
    |                                                                                                                         ^^^^^^
114 |         }
115 |     }
    |

Found 312 errors.
No fixes available (1 hidden fix can be enabled with the `--unsafe-fixes` option).
Exit Code: 1
Process Group PGID: 321448